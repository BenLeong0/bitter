{"version":3,"sources":["pages/Admin.tsx","UserPool.tsx","components/Account.tsx","components/Main/Options/OptionLink.tsx","components/Main/Options/OptionsUserBox.tsx","components/Main/Options/home.svg","components/Main/Options/allposts.svg","components/Main/Options/user.svg","components/Main/Options/settings.svg","components/Main/Options/login.svg","components/Main/Options/register.svg","components/Main/Options/OptionsBox.tsx","components/Main/AppTitle/AppTitle.tsx","components/Main/LeftColumn.tsx","components/Main/Users/FindUserForm.tsx","components/Main/Users/FindUser.tsx","components/Main/Users/components/FollowButton.tsx","components/Main/Users/components/UnfollowButton.tsx","components/Main/Users/components/SuggestedUserFollowButton.tsx","components/Main/Users/UserSuggestion.tsx","components/Main/Users/UserSuggestions.tsx","components/Main/RightColumn.tsx","pages/PageNotFound.tsx","components/Timeline/PostBoxForm.tsx","components/Timeline/PostBit.tsx","components/Main/BitList/Icons/reply.svg","components/Main/BitList/Icons/replied.svg","components/Main/BitList/Icons/rebit.svg","components/Main/BitList/Icons/rebited.svg","components/Main/BitList/Icons/like.svg","components/Main/BitList/Icons/liked.svg","components/Main/BitList/Icons/dislike.svg","components/Main/BitList/Icons/disliked.svg","components/Main/BitList/BitButtonBar.tsx","components/Main/BitList/OutsideAlerter.js","components/Main/BitList/BitTag.tsx","components/Main/BitList/Icons/delete.svg","components/Main/BitList/BitReplyBox.tsx","components/Main/BitList/DeletedBit.tsx","components/Main/BitList/Bit.tsx","components/Main/BitList/BitList.tsx","components/Timeline/TimelineBitList.tsx","pages/Timeline.tsx","components/Timeline/AllBitsList.tsx","pages/AllPosts.tsx","components/UserPage/components/UserBanner.tsx","components/UserPage/components/UserPhoto.tsx","components/UserPage/components/FollowButton.tsx","components/UserPage/components/UnfollowButton.tsx","components/UserPage/components/EditProfileButton.tsx","components/UserPage/components/UserFollowButton.tsx","components/UserPage/components/UserInfo.tsx","components/UserPage/UserHeader.tsx","components/UserPage/UserBitList.tsx","components/UserPage/components/UserCard.tsx","components/UserPage/components/UserFollowList.tsx","components/UserPage/components/UserFollowing.tsx","components/UserPage/components/UserFollowers.tsx","components/UserPage/UserLikeList.tsx","components/UserPage/UserNotFound.tsx","pages/UserPage.tsx","components/BitPage/BitNotFound.tsx","components/BitPage/PreThreadList.tsx","components/BitPage/ReplyThread.tsx","pages/BitPage.tsx","components/Settings/ChangeEmailConfirmation.tsx","components/Settings/ChangeEmail.tsx","components/Settings/ChangePasswordConfirmation.tsx","components/Settings/ChangePassword.tsx","components/Settings/DeleteAccountConfirmation.tsx","components/Settings/DeleteAccount.tsx","components/Settings/LogoutButton.tsx","pages/Settings.tsx","pages/Login.tsx","pages/Register.tsx","PrivateRoute.tsx","App.tsx","reportWebVitals.js","index.js"],"names":["Admin","document","title","CognitoUserPool","UserPoolId","ClientId","AccountContext","createContext","undefined","Account","isLoggedIn","setIsLoggedIn","myHandle","setMyHandle","children","API_URL","url","useState","currHandle","setCurrHandle","isAdmin","setIsAdmin","isFollowing","setIsFollowing","refreshList","setRefreshList","useEffect","getSession","then","session","user","username","catch","err","a","Promise","resolve","reject","Pool","getCurrentUser","getUserAttributes","attributes","results","attribute","Name","Value","token","getIdToken","getJwtToken","headers","Authorization","createFollowEdge","destinationHandle","fetch","method","response","text","result","console","log","error","deleteFollowEdge","authenticate","Username","Password","CognitoUser","authDetails","AuthenticationDetails","authenticateUser","onSuccess","data","onFailure","newPasswordRequired","isEmailUsed","email","json","Provider","value","logout","signOut","refreshBitList","OptionLink","logo","link","className","to","src","alt","UserBox","useContext","OptionsBox","Option","this","homeOption","HomeLogo","allPostsOption","AllPostsLogo","userOption","UserLogo","settingsOption","SettingsLogo","loginOption","LoginLogo","registerOption","RegisterLogo","AppTitle","LeftColumn","id","FindUserForm","handle","updateHandle","buttonStatus","updateButton","history","useHistory","handleSubmitClick","e","preventDefault","push","type","name","placeholder","onChange","target","length","onClick","disabled","style","opacity","FindUser","FollowButton","props","setIsFollowingSuggested","follow","UnfollowButton","unfollow","SuggestedUserFollowButton","isFollowingSuggested","UserSuggestion","setSrc","Date","now","toString","slice","onError","display_name","UserSuggestions","suggestedUsers","updateSuggestions","isLoading","setIsLoading","fetchError","setFetchError","fetchSuggestions","resp","code","users","JSON","parse","map","key","RightColumn","PageNotFound","PostBoxForm","post","updatePost","remainingChars","updateChars","charCounterColour","changeCounterColour","errorOccurred","setErrorOccurred","enableButton","disableButton","requestOptions","body","stringify","content","finally","color","PostBit","BitButtonBar","toggleReplying","replying","rebitShift","setRebitShift","likeShift","setLikeShift","dislikeShift","setDislikeShift","isReposted","setIsReposted","isLiked","setIsLiked","isDisliked","setIsDisliked","reply","post_id","rebit","like","unlike","dislike","undislike","ReplyingButton","ReplyButton","replies","RebitedButton","RebitButton","reposts","LikedButton","LikeButton","likes","DislikedButton","DislikeButton","dislikes","OutsideAlerter","ref","setIsPopoverOpen","wrapperRef","useRef","isPopoverOpen","handleClickOutside","event","current","contains","addEventListener","removeEventListener","BitTag","tag","test","i","taggedAccount","postContent","BitReplyBox","setReplying","replyTo","DeletedBit","classes","timestampFormat","post_time","bitTime","milliseconds","getTime","temp","Math","floor","days","day","String","getDate","getMonth","getFullYear","hours","minutes","seconds","formatDate","date","getHours","getMinutes","ampm","strTime","Bit","bitInfo","splitContent","split","initialContent","myPost","isDeleted","setIsDeleted","rebitter","reply_to","handleDeletePost","display","top","RepliedButton","reply_author","DeleteButton","index","BitList","bits","bit","TimelineBitList","setBits","requestCounter","setRequestCounter","fetchBits","requestId","posts","Timeline","AllBitsList","UserBanner","process","UserPhoto","StyledPopup","Styled","Popup","EditProfileButton","open","setOpen","closeModal","changesSubmitted","go","resetInputs","displayName","setDisplayName","bio","setBio","textErrorOccurred","setTextErrorOccurred","pfpErrorOccurred","setPfpErrorOccurred","bannerErrorOccurred","setBannerErrorOccurred","pfpTooBig","setPfpTooBig","bannerTooBig","setBannerTooBig","pfp","setPfp","banner","setBanner","textChanged","setTextChanged","setChangesSubmitted","textButtonActive","trim","toBase64","file","reader","FileReader","readAsDataURL","onload","onerror","onSubmitText","handlePfpChange","files","size","onSubmitPfp","base64File","image","field","handleBannerChange","onSubmitBanner","width","modal","onClose","onSubmit","cursor","accept","marginTop","UserFollowButton","isHater","UserInfo","updatePageState","listId","setListId","months","changeTab","state","x","month","year","created_on","bits_count","following_count","follower_count","UserHeader","UserBitList","filter","UserCard","UserFollowList","UserFollowing","setUsers","fetchUsers","userlist","UserFollowers","setLikes","UserNotFound","UserPage","setUser","listState","setListState","useLocation","pathname","fetchUser","stateId","UserLikeList","listen","location","BitNotFound","PreThread","pre_thread","prebit","ReplyThread","thread","BitPage","emptyPost","setPost","setPostId","fetchPost","elmnt","getElementsByClassName","scrollIntoView","reply_threads","ChangeEmailConfirmation","newEmail","marginBottom","ChangeEmail","setNewEmail","password","setPassword","emailExists","setEmailExists","isPasswordCorrect","setIsPasswordCorrect","hasSucceeded","setHasSucceeded","CognitoUserAttribute","updateAttributes","ChangePasswordConfirmation","ChangePassword","newPassword","setNewPassword","confirmNewPassword","setConfirmNewPassword","isNewPasswordValid","setIsNewPasswordValid","passwordsMismatch","setPasswordsMismatch","correctOldPassword","setCorrectOldPassword","s","changePassword","fontSize","DeleteAccountConfirmation","active","backgroundColor","borderColor","deleteConfirmation","setDeleteConfirmation","isConfirmationCorrect","setIsConfirmationCorrect","accessToken","jwtToken","resultJSON","LogoutButton","Settings","DeleteAccount","Login","setUsername","emailNotVerified","setEmailNotVerified","invalidLoginDetails","setInvalidLoginDetails","payload","Register","setEmail","confirmPassword","setConfirmPassword","isUsernameEmpty","setIsUsernameEmpty","isUsernameTooLong","setIsUsernameTooLong","isEmailEmpty","setIsEmailEmpty","usernameExists","setUsernameExists","isUsernameValid","setIsUsernameValid","isEmailValid","setIsEmailValid","isPasswordValid","setIsPasswordValid","areFieldsValid","UserPool","signUp","checkIsHandleValid","checkIsPasswordValid","PrivateRoute","Component","path","render","App","basename","exact","AllPosts","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.8b946c21.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Admin: React.FC<{}> = () => {\r\n  document.title = \"Admin / Bitter\";\r\n\r\n  return <div>Admin page</div>;\r\n};\r\n\r\nexport default Admin;\r\n","import {\r\n  CognitoUserPool,\r\n  // CognitoUserAttribute,\r\n} from \"amazon-cognito-identity-js\";\r\n\r\nconst poolData = {\r\n  UserPoolId: \"eu-west-2_QLAkrTR47\",\r\n  ClientId: \"4m544sn8a7kf2023cq5qs4polc\",\r\n};\r\n\r\nexport default new CognitoUserPool(poolData);\r\n","import React, { createContext, useState, useEffect } from \"react\";\r\nimport {\r\n  CognitoUser,\r\n  AuthenticationDetails,\r\n  CognitoUserSession,\r\n  CognitoUserAttribute,\r\n} from \"amazon-cognito-identity-js\";\r\nimport Pool from \"../UserPool\";\r\n\r\n// type ContextProps = {\r\n//   API_URL: string;\r\n//   authenticate: (Username: string, Password: string) => Promise<any>;\r\n//   isEmailUsed: (email: string) => Promise<boolean>\r\n//   getSession: () => Promise<any>;\r\n//   logout: () => void;\r\n//   refreshList: boolean;\r\n//   setRefreshList: React.Dispatch<React.SetStateAction<boolean>>;\r\n//   refreshBitList: () => void\r\n//   isLoggedIn: boolean;\r\n//   setIsLoggedIn: React.Dispatch<React.SetStateAction<boolean>>;\r\n//   isFollowing: boolean;\r\n//   setIsFollowing: React.Dispatch<React.SetStateAction<boolean>>;\r\n//   currHandle: string;\r\n//   setCurrHandle: React.Dispatch<React.SetStateAction<string>>;\r\n//   isAdmin: boolean;\r\n//   setIsAdmin: React.Dispatch<React.SetStateAction<boolean>>;\r\n//   myHandle: string;\r\n//   setMyHandle: React.Dispatch<React.SetStateAction<string>>;\r\n//   createFollowEdge: (destinationId: string) => Promise<void>;\r\n//   deleteFollowEdge: (destinationId: string) => Promise<void>;\r\n// };\r\n\r\ninterface Props {\r\n  isLoggedIn: boolean;\r\n  setIsLoggedIn: React.Dispatch<React.SetStateAction<boolean>>;\r\n  myHandle: string;\r\n  setMyHandle: React.Dispatch<React.SetStateAction<string>>;\r\n  children: any;\r\n}\r\n\r\nconst AccountContext = createContext<any>(undefined);\r\n\r\nconst Account: React.FC<Props> = ({\r\n  isLoggedIn,\r\n  setIsLoggedIn,\r\n  myHandle,\r\n  setMyHandle,\r\n  children,\r\n}) => {\r\n  const url = \"https://7z39hjjfg1.execute-api.eu-west-2.amazonaws.com\";\r\n  const stage = \"/dev\";\r\n  const API_URL: string = url + stage;\r\n\r\n  // Info about current user being viewed, i.e. owner of /u/handle\r\n  const [currHandle, setCurrHandle] = useState<string>(\"\");\r\n  const [isAdmin, setIsAdmin] = useState<boolean>(false);\r\n  const [isFollowing, setIsFollowing] = useState<boolean>(false);\r\n\r\n  // Hook to refresh timeline after posting\r\n  const [refreshList, setRefreshList] = useState<boolean>(true);\r\n\r\n  useEffect(() => {\r\n    getSession()\r\n      .then((session: any) => {\r\n        if (session[\"custom:role\"] === \"admin\") setIsAdmin(true);\r\n        setIsLoggedIn(true);\r\n        setMyHandle(session.user.username);\r\n      })\r\n      .catch((err) => {\r\n        setMyHandle(\"\");\r\n        setIsAdmin(false);\r\n\r\n        return;\r\n      });\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const getSession = async (): Promise<any> =>\r\n    await new Promise((resolve, reject) => {\r\n      const user: CognitoUser | null = Pool.getCurrentUser();\r\n      if (user) {\r\n        user.getSession(\r\n          async (err: Error, session: CognitoUserSession | null) => {\r\n            if (err) {\r\n              reject();\r\n            } else if (session) {\r\n              const attributes: any = await new Promise((resolve, reject) => {\r\n                user.getUserAttributes(\r\n                  (\r\n                    err: Error | undefined,\r\n                    attributes: CognitoUserAttribute[] | undefined\r\n                  ) => {\r\n                    if (err) {\r\n                      reject(err);\r\n                    } else if (attributes) {\r\n                      const results: any = {};\r\n\r\n                      for (let attribute of attributes) {\r\n                        const { Name, Value } = attribute;\r\n                        results[Name] = Value;\r\n                      }\r\n\r\n                      resolve(results);\r\n                    }\r\n                  }\r\n                );\r\n              });\r\n\r\n              const token = session.getIdToken().getJwtToken();\r\n\r\n              resolve({\r\n                user,\r\n                headers: {\r\n                  Authorization: token,\r\n                  \"x-api-key\": attributes[\"custom:apikey\"],\r\n                },\r\n                ...session,\r\n                ...attributes,\r\n              });\r\n            }\r\n          }\r\n        );\r\n      } else {\r\n        reject(\"Not logged in\");\r\n      }\r\n    });\r\n\r\n  const createFollowEdge = async (destinationHandle: string) => {\r\n    getSession().then(async ({ headers }) => {\r\n      fetch(`${API_URL}/users/follow?handle=${destinationHandle}`, {\r\n        headers,\r\n        method: \"POST\",\r\n      })\r\n        .then((response) => response.text())\r\n        .then((result) => console.log(result))\r\n        .catch((error) => console.error(\"Follow error:\", error));\r\n    });\r\n  };\r\n\r\n  const deleteFollowEdge = async (destinationHandle: string) => {\r\n    getSession().then(async ({ headers }) => {\r\n      fetch(`${API_URL}/users/follow?handle=${destinationHandle}`, {\r\n        headers,\r\n        method: \"DELETE\",\r\n      })\r\n        .then((response) => response.text())\r\n        .then((result) => console.log(result))\r\n        .catch((error) => console.error(\"Unfollow error:\", error));\r\n    });\r\n  };\r\n\r\n  const authenticate = async (Username: string, Password: string) =>\r\n    await new Promise((resolve, reject) => {\r\n      const user = new CognitoUser({ Username, Pool });\r\n\r\n      const authDetails = new AuthenticationDetails({ Username, Password });\r\n\r\n      user.authenticateUser(authDetails, {\r\n        onSuccess: (data) => {\r\n          console.log(\"onSuccess:\", data);\r\n          resolve(data);\r\n        },\r\n\r\n        onFailure: (err) => {\r\n          console.error(\"onFailure:\", err);\r\n          reject(err);\r\n        },\r\n\r\n        newPasswordRequired: (data) => {\r\n          console.log(\"newPasswordRequired:\", data);\r\n          resolve(data);\r\n        },\r\n      });\r\n    });\r\n\r\n  const logout = () => {\r\n    const user = Pool.getCurrentUser();\r\n    if (user) {\r\n      user.signOut();\r\n      setMyHandle(\"\");\r\n      setIsLoggedIn(false);\r\n      setIsAdmin(false);\r\n    }\r\n  };\r\n\r\n  const isEmailUsed = async (email: string): Promise<boolean> => {\r\n    const data = await fetch(`${API_URL}/users/exists?email=${email}`);\r\n    const result = await data.json();\r\n    console.log(result);\r\n\r\n    return result;\r\n  };\r\n\r\n  const refreshBitList = () => {\r\n    setRefreshList(!refreshList);\r\n  };\r\n\r\n  return (\r\n    <AccountContext.Provider\r\n      value={{\r\n        API_URL,\r\n        authenticate,\r\n        isEmailUsed,\r\n        getSession,\r\n        logout,\r\n        refreshList,\r\n        setRefreshList,\r\n        refreshBitList,\r\n        isLoggedIn,\r\n        setIsLoggedIn,\r\n        isFollowing,\r\n        setIsFollowing,\r\n        currHandle,\r\n        setCurrHandle,\r\n        isAdmin,\r\n        setIsAdmin,\r\n        myHandle,\r\n        setMyHandle,\r\n        createFollowEdge,\r\n        deleteFollowEdge,\r\n      }}\r\n    >\r\n      {children}\r\n    </AccountContext.Provider>\r\n  );\r\n};\r\n\r\nexport { Account, AccountContext };\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\ninterface Option {\r\n  title: string;\r\n  link: string;\r\n  logo: string;\r\n}\r\n\r\nconst OptionLink: React.FC<Option> = ({ title, logo, link }) => {\r\n  return (\r\n    <div className=\"option\">\r\n      <Link to={link}>\r\n        <div className=\"option-logo-box\">\r\n          <img src={logo} alt=\"logo\" className=\"option-logo\" />\r\n        </div>\r\n        <div className=\"option-title\">{title}</div>\r\n      </Link>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OptionLink;\r\n","import React, { useContext } from \"react\";\r\nimport { AccountContext } from \"../../Account\";\r\nimport { Link } from \"react-router-dom\";\r\nimport ContextProps from \"../../../Types/ContextProps\";\r\n\r\nconst UserBox: React.FC<{}> = () => {\r\n  const { myHandle }: ContextProps = useContext(AccountContext);\r\n  return (\r\n    <div className=\"options-userbox\">\r\n      Logged in as: <Link to={`/u/${myHandle}`}>@{myHandle}</Link>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserBox;\r\n","export default __webpack_public_path__ + \"static/media/home.671555e9.svg\";","export default __webpack_public_path__ + \"static/media/allposts.13bfb664.svg\";","export default __webpack_public_path__ + \"static/media/user.279444fa.svg\";","export default __webpack_public_path__ + \"static/media/settings.949b2aef.svg\";","export default __webpack_public_path__ + \"static/media/login.58b554af.svg\";","export default __webpack_public_path__ + \"static/media/register.2c6615d2.svg\";","import React, { useContext } from \"react\";\r\nimport \"./OptionsBox.css\";\r\nimport OptionLink from \"./OptionLink\";\r\nimport UserBox from \"./OptionsUserBox\";\r\n\r\nimport HomeLogo from \"./home.svg\";\r\nimport AllPostsLogo from \"./allposts.svg\";\r\nimport UserLogo from \"./user.svg\";\r\nimport SettingsLogo from \"./settings.svg\";\r\nimport LoginLogo from \"./login.svg\";\r\nimport RegisterLogo from \"./register.svg\";\r\n\r\nimport { AccountContext } from \"../../Account\";\r\nimport ContextProps from \"../../../Types/ContextProps\";\r\n\r\nconst OptionsBox: React.FC<{}> = () => {\r\n  const { isLoggedIn }: ContextProps = useContext(AccountContext);\r\n\r\n  class Option {\r\n    title: string;\r\n    link: string;\r\n    logo: string; // hmmm\r\n\r\n    public constructor(title: string, link: string, logo: string) {\r\n      this.title = title;\r\n      this.link = link;\r\n      this.logo = logo;\r\n    }\r\n  }\r\n\r\n  const homeOption = new Option(\"Home\", \"/home\", HomeLogo);\r\n  const allPostsOption = new Option(\"All posts\", \"/all\", AllPostsLogo);\r\n  const userOption = new Option(\"My Page\", \"/me\", UserLogo);\r\n  const settingsOption = new Option(\"Settings\", \"/settings\", SettingsLogo);\r\n  const loginOption = new Option(\"Login\", \"/login\", LoginLogo);\r\n  const registerOption = new Option(\"Register\", \"/register\", RegisterLogo);\r\n\r\n  return (\r\n    <div className=\"options-box\">\r\n      <OptionLink {...homeOption} />\r\n      {isLoggedIn ? (\r\n        <>\r\n          {/* My page/settings if logged in */}\r\n          <OptionLink {...allPostsOption} />\r\n          <OptionLink {...userOption} />\r\n          <OptionLink {...settingsOption} />\r\n          <hr />\r\n          <UserBox />\r\n        </>\r\n      ) : (\r\n        <>\r\n          {/* Login/Register if not logged in */}\r\n          <OptionLink {...loginOption} />\r\n          <OptionLink {...registerOption} />\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OptionsBox;\r\n","import React from \"react\";\r\nimport \"./AppTitle.css\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst AppTitle: React.FC<{}> = () => {\r\n  return (\r\n    <div className=\"app-title-box\">\r\n      <Link to=\"/home\">\r\n        <div className=\"app-title\">Bitter</div>\r\n      </Link>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AppTitle;\r\n","import React from \"react\";\r\n\r\nimport OptionsBox from \"./Options/OptionsBox\";\r\nimport AppTitle from \"./AppTitle/AppTitle\";\r\n\r\nconst LeftColumn: React.FC<{}> = () => {\r\n  return (\r\n    <div id=\"left-col\" className=\"main-col\">\r\n      <AppTitle />\r\n      <OptionsBox />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LeftColumn;\r\n","import React, { useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst FindUserForm: React.FC<{}> = () => {\r\n  const [handle, updateHandle] = useState<string>(\"\");\r\n\r\n  const [buttonStatus, updateButton] = useState<\r\n    [isButtonEnabled: boolean, buttonOpacity: string]\r\n  >([false, \"50%\"]);\r\n\r\n  const handleChange = (e: any) => {\r\n    const { value } = e.target;\r\n    updateHandle(value);\r\n\r\n    // Can't press button if input field is empty\r\n    if (value.length === 0) {\r\n      updateButton([false, \"50%\"]);\r\n    } else {\r\n      updateButton([true, \"100%\"]);\r\n    }\r\n  };\r\n\r\n  const history = useHistory();\r\n  const handleSubmitClick = async (e: any) => {\r\n    e.preventDefault();\r\n\r\n    // Go to user page\r\n    history.push(`/u/${handle}`);\r\n\r\n    // Reset input field\r\n    updateHandle(\"\");\r\n  };\r\n\r\n  return (\r\n    <form>\r\n      <span className=\"textbox\">\r\n        @\r\n        <input\r\n          type=\"text\"\r\n          name=\"url\"\r\n          id=\"find-user-input-field\"\r\n          value={handle}\r\n          placeholder=\"handle\"\r\n          onChange={handleChange}\r\n        />\r\n      </span>\r\n      <button\r\n        type=\"submit\"\r\n        className=\"button-primary\"\r\n        onClick={handleSubmitClick}\r\n        disabled={!buttonStatus[0]}\r\n        style={{ opacity: buttonStatus[1] }}\r\n      >\r\n        Search\r\n      </button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default FindUserForm;\r\n","import React from \"react\";\r\nimport \"./findusers.css\";\r\nimport FindUserForm from \"./FindUserForm\";\r\n\r\nconst FindUser: React.FC<{}> = () => {\r\n  return (\r\n    <div className=\"find-user\">\r\n      <div className=\"find-user-title\">Go to user's page:</div>\r\n      <FindUserForm />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FindUser;\r\n","import React, { useContext } from \"react\";\r\nimport ContextProps from \"../../../../Types/ContextProps\";\r\nimport { AccountContext } from \"../../../Account\";\r\n\r\ntype Props = {\r\n  setIsFollowingSuggested: React.Dispatch<React.SetStateAction<boolean>>;\r\n  handle: string;\r\n};\r\n\r\nconst FollowButton: React.FC<Props> = (props) => {\r\n  const { setIsFollowingSuggested, handle } = props;\r\n\r\n  const {\r\n    currHandle,\r\n    setIsFollowing,\r\n    createFollowEdge,\r\n    isLoggedIn,\r\n  }: ContextProps = useContext(AccountContext);\r\n\r\n  const follow = async () => {\r\n    if (isLoggedIn) {\r\n      setIsFollowingSuggested(true);\r\n\r\n      // Update userPage if same user\r\n      if (handle === currHandle) {\r\n        setIsFollowing(true);\r\n      }\r\n\r\n      // update db\r\n      createFollowEdge(handle);\r\n    } else {\r\n      console.log(\"Not logged in!\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <button className=\"button\" onClick={follow}>\r\n      Follow\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default FollowButton;\r\n","import React, { useContext } from \"react\";\r\nimport ContextProps from \"../../../../Types/ContextProps\";\r\nimport { AccountContext } from \"../../../Account\";\r\n\r\ntype Props = {\r\n  setIsFollowingSuggested: React.Dispatch<React.SetStateAction<boolean>>;\r\n  handle: string;\r\n};\r\n\r\nconst UnfollowButton: React.FC<Props> = (props) => {\r\n  const { setIsFollowingSuggested, handle } = props;\r\n\r\n  const {\r\n    myHandle,\r\n    currHandle,\r\n    setIsFollowing,\r\n    deleteFollowEdge,\r\n  }: ContextProps = useContext(AccountContext);\r\n\r\n  const unfollow = async () => {\r\n    if (myHandle === handle) {\r\n      console.log(\"Can't unfollow yourself!\");\r\n      return;\r\n    }\r\n\r\n    setIsFollowingSuggested(false);\r\n\r\n    // Update userPage if same user\r\n    if (handle === currHandle) {\r\n      setIsFollowing(false);\r\n    }\r\n\r\n    // update db\r\n    deleteFollowEdge(handle);\r\n  };\r\n\r\n  return (\r\n    <button className=\"button-primary\" onClick={unfollow}>\r\n      Following\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default UnfollowButton;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport FollowButton from \"./FollowButton\";\r\nimport UnfollowButton from \"./UnfollowButton\";\r\nimport { AccountContext } from \"../../../Account\";\r\nimport ContextProps from \"../../../../Types/ContextProps\";\r\n\r\ninterface Props {\r\n  className: string;\r\n  handle: string;\r\n  isFollowing?: boolean;\r\n}\r\n\r\nconst SuggestedUserFollowButton: React.FC<Props> = (props) => {\r\n  const [isFollowingSuggested, setIsFollowingSuggested] = useState<boolean>(\r\n    false\r\n  );\r\n\r\n  const { handle, className } = props;\r\n\r\n  const { currHandle, isFollowing }: ContextProps = useContext(AccountContext);\r\n\r\n  // Check if following on mount\r\n  useEffect(() => {\r\n    if (props.isFollowing) {\r\n      setIsFollowingSuggested(props.isFollowing);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [props.isFollowing]);\r\n\r\n  // Link to main user if same\r\n  useEffect(() => {\r\n    if (handle === currHandle) {\r\n      setIsFollowingSuggested(isFollowing);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [isFollowing]);\r\n\r\n  return (\r\n    <div className={className}>\r\n      {isFollowingSuggested ? (\r\n        <UnfollowButton\r\n          handle={handle}\r\n          setIsFollowingSuggested={setIsFollowingSuggested}\r\n        />\r\n      ) : (\r\n        <FollowButton\r\n          handle={handle}\r\n          setIsFollowingSuggested={setIsFollowingSuggested}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SuggestedUserFollowButton;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport SuggestedUserFollowButton from \"./components/SuggestedUserFollowButton\";\r\n\r\ninterface User {\r\n  handle: string;\r\n  display_name?: string;\r\n  isFollowing?: boolean;\r\n}\r\n\r\nconst UserSuggestion: React.FC<User> = (user) => {\r\n  // Profile pic src\r\n  const [src, setSrc] = useState<string>(\"\");\r\n  const onError = () => {\r\n    setSrc(`https://bitter-imgs.s3.eu-west-2.amazonaws.com/pfpdefault`);\r\n  };\r\n  useEffect(() => {\r\n    setSrc(\r\n      \"https://bitter-imgs.s3.eu-west-2.amazonaws.com/pfp-\" +\r\n        user.handle +\r\n        `?${Date.now().toString().slice(0, -4)}`\r\n    );\r\n  }, [user.handle]);\r\n\r\n  return (\r\n    <>\r\n      <hr className=\"solid\" />\r\n      <div className=\"user-suggestion\">\r\n        <Link to={\"/u/\" + user.handle}>\r\n          <div className=\"user-suggestion-pfp\">\r\n            <img src={src} onError={onError} alt=\"profile pic\" />\r\n          </div>\r\n          <div className=\"user-suggestion-info\">\r\n            <div className=\"user-suggestion-displayname\">\r\n              {user.display_name}\r\n            </div>\r\n            <div className=\"user-suggestion-handle\">@{user.handle}</div>\r\n          </div>\r\n        </Link>\r\n        <SuggestedUserFollowButton\r\n          className=\"user-suggestion-follow\"\r\n          handle={user.handle}\r\n          isFollowing={user.isFollowing}\r\n        />\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UserSuggestion;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport \"./usersuggestions.css\";\r\nimport UserSuggestion from \"./UserSuggestion\";\r\nimport { AccountContext } from \"../../Account\";\r\n\r\nimport User from \"../../../Types/User\";\r\nimport ContextProps from \"../../../Types/ContextProps\";\r\n\r\nconst UserSuggestions: React.FC<{}> = () => {\r\n  const [suggestedUsers, updateSuggestions] = useState<Array<User>>([]);\r\n  const [isLoading, setIsLoading] = useState<boolean>(false);\r\n  const [fetchError, setFetchError] = useState<boolean>(false);\r\n  const { API_URL, myHandle }: ContextProps = useContext(AccountContext);\r\n\r\n  // Fetch 5 random users from the database\r\n  const fetchSuggestions = async () => {\r\n    setIsLoading(true);\r\n\r\n    const data = await fetch(`${API_URL}/users/suggested?myHandle=${myHandle}`);\r\n    const resp: any = await data.json();\r\n    if (resp.code === \"getSuccess\") {\r\n      setFetchError(false);\r\n      const users: Array<User> = JSON.parse(resp.users);\r\n      updateSuggestions(users);\r\n    } else {\r\n      updateSuggestions([]);\r\n      setFetchError(true);\r\n    }\r\n    setIsLoading(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchSuggestions();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [myHandle]);\r\n\r\n  return (\r\n    <div className=\"user-suggestions\">\r\n      <div className=\"user-suggestions-title\">Suggested users</div>\r\n      {isLoading ? (\r\n        <div className=\"user-suggestions-loader\">\r\n          <div className=\"loader\" />\r\n        </div>\r\n      ) : (\r\n        <>\r\n          {suggestedUsers.map((user) => (\r\n            <UserSuggestion {...user} key={user.handle} />\r\n          ))}\r\n          {fetchError ? (\r\n            <div className=\"user-suggestions-error\">\r\n              Oops, looks like an error occurred...\r\n            </div>\r\n          ) : (\r\n            <></>\r\n          )}\r\n          <div className=\"user-suggestions-reroller\">\r\n            <button onClick={fetchSuggestions}> Reroll </button>\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserSuggestions;\r\n","import React from \"react\";\r\n\r\nimport FindUser from \"./Users/FindUser\";\r\nimport UserSuggestions from \"./Users/UserSuggestions\";\r\n\r\nconst RightColumn: React.FC<{}> = () => {\r\n  return (\r\n    <div id=\"right-col\" className=\"main-col\">\r\n      <FindUser />\r\n      <UserSuggestions />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RightColumn;\r\n","import React from \"react\";\r\n\r\nconst PageNotFound: React.FC<{}> = () => {\r\n  return (\r\n    <>\r\n      <div className=\"nopage-code\">404</div>\r\n      <div className=\"nopage-msg\">Page not found</div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PageNotFound;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport TextareaAutosize from \"react-textarea-autosize\";\r\nimport ContextProps from \"../../Types/ContextProps\";\r\nimport { AccountContext } from \"../Account\";\r\n\r\nconst PostBoxForm: React.FC<{}> = () => {\r\n  const { API_URL, getSession, refreshBitList }: ContextProps = useContext(\r\n    AccountContext\r\n  );\r\n\r\n  const [post, updatePost] = useState<string>(\"\");\r\n  const [remainingChars, updateChars] = useState<number>(140);\r\n  const [charCounterColour, changeCounterColour] = useState<string>(\"black\");\r\n  const [buttonStatus, updateButton] = useState<[boolean, string]>([\r\n    false,\r\n    \"50%\",\r\n  ]);\r\n\r\n  const [errorOccurred, setErrorOccurred] = useState<boolean>(false);\r\n  const [isLoading, setIsLoading] = useState<boolean>(false);\r\n\r\n  const enableButton = () => {\r\n    updateButton([true, \"100%\"]);\r\n  };\r\n  const disableButton = () => {\r\n    updateButton([false, \"50%\"]);\r\n  };\r\n\r\n  const handleChange = (e: any) => {\r\n    const { value } = e.target;\r\n    updatePost(value);\r\n  };\r\n\r\n  const updateCharCount = () => {\r\n    updateChars(140 - post.length);\r\n    if (post.length > 140) {\r\n      disableButton();\r\n      changeCounterColour(\"red\");\r\n    } else if (post.length > 110) {\r\n      enableButton();\r\n      changeCounterColour(\"orange\");\r\n    } else if (post.length === 0) {\r\n      disableButton();\r\n      changeCounterColour(\"black\");\r\n    } else {\r\n      enableButton();\r\n      changeCounterColour(\"black\");\r\n    }\r\n  };\r\n\r\n  // Update char count when post changes\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  useEffect(() => updateCharCount(), [post]);\r\n\r\n  const handleSubmitClick = async (e: any) => {\r\n    e.preventDefault();\r\n    getSession().then(async ({ headers }) => {\r\n      // Check valid length\r\n      if (remainingChars < 0 || remainingChars >= 140) {\r\n        console.error(\"Invalid post length.\");\r\n        return;\r\n      }\r\n\r\n      // Set loading\r\n      setIsLoading(true);\r\n      setErrorOccurred(false);\r\n\r\n      // Set Content-Type (might be correct by default)\r\n      headers[\"Content-Type\"] = \"application/json\";\r\n\r\n      // Request options\r\n      var requestOptions = {\r\n        headers,\r\n        method: \"POST\",\r\n        body: JSON.stringify({ content: post }),\r\n      };\r\n\r\n      // Post to API\r\n      await fetch(`${API_URL}/bits`, requestOptions)\r\n        .then((response) => response.text())\r\n        .then((result) => {\r\n          const resultJSON = JSON.parse(result);\r\n\r\n          // success/failure handling\r\n          if (resultJSON.code === \"postSuccess\") {\r\n            // Empty input field\r\n            updatePost(\"\");\r\n          } else {\r\n            // Error message\r\n            setErrorOccurred(true);\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(\"Error:\", err);\r\n          setErrorOccurred(true);\r\n        })\r\n        .finally(() => {\r\n          // Set not loading\r\n          setIsLoading(false);\r\n          refreshBitList();\r\n        });\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"postbox-input\">\r\n      {isLoading ? (\r\n        <div id=\"postbox-loader-wrapper\">\r\n          <div className=\"loader\" />\r\n        </div>\r\n      ) : (\r\n        <form>\r\n          <TextareaAutosize\r\n            className=\"bit-content\"\r\n            id=\"postbox-input-field\"\r\n            placeholder=\"Post a bit!\"\r\n            value={post}\r\n            onChange={handleChange}\r\n          />\r\n          <button\r\n            type=\"submit\"\r\n            className=\"button-primary\"\r\n            onClick={handleSubmitClick}\r\n            disabled={!buttonStatus[0]}\r\n            style={{ opacity: buttonStatus[1] }}\r\n          >\r\n            Post\r\n          </button>\r\n          <div id=\"postbox-charcount\" style={{ color: charCounterColour }}>\r\n            Remaining characters: {remainingChars}\r\n          </div>\r\n\r\n          {/* Generic error message */}\r\n          {errorOccurred ? (\r\n            <div id=\"postbox-error\">An error occurred.</div>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n        </form>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PostBoxForm;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { AccountContext } from \"../Account\";\r\nimport PostBoxForm from \"./PostBoxForm\";\r\nimport \"./Postbox.css\";\r\nimport { Link } from \"react-router-dom\";\r\nimport ContextProps from \"../../Types/ContextProps\";\r\n\r\nconst PostBit: React.FC<{}> = () => {\r\n  const { isLoggedIn, myHandle }: ContextProps = useContext(AccountContext);\r\n\r\n  // Profile pic src\r\n  const [src, setSrc] = useState<string>(\"\");\r\n  const onError = () => {\r\n    setSrc(`https://bitter-imgs.s3.eu-west-2.amazonaws.com/pfpdefault`);\r\n  };\r\n\r\n  useEffect(() => {\r\n    setSrc(\r\n      `https://bitter-imgs.s3.eu-west-2.amazonaws.com/pfp-${myHandle}` +\r\n        `?${Date.now().toString().slice(0, -4)}`\r\n    );\r\n  }, [myHandle]);\r\n\r\n  return (\r\n    <div className=\"postbox\">\r\n      {isLoggedIn ? (\r\n        <>\r\n          <div className=\"postbox-pfp\">\r\n            <img src={src} onError={onError} alt=\"pfp\" />\r\n          </div>\r\n          <PostBoxForm />\r\n        </>\r\n      ) : (\r\n        <div id=\"postbox-login\">\r\n          <Link to=\"/login\">Login</Link> or <Link to=\"/register\">register</Link>{\" \"}\r\n          to post bits\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PostBit;\r\n","export default __webpack_public_path__ + \"static/media/reply.34834fc8.svg\";","export default __webpack_public_path__ + \"static/media/replied.f6426c61.svg\";","export default __webpack_public_path__ + \"static/media/rebit.e12d3005.svg\";","export default __webpack_public_path__ + \"static/media/rebited.756a8af7.svg\";","export default __webpack_public_path__ + \"static/media/like.231952c6.svg\";","export default __webpack_public_path__ + \"static/media/liked.bf753584.svg\";","export default __webpack_public_path__ + \"static/media/dislike.6101c61e.svg\";","export default __webpack_public_path__ + \"static/media/disliked.e954b579.svg\";","import React, { useContext, useState, useEffect } from \"react\";\r\nimport ReplyButton from \"./Icons/reply.svg\";\r\nimport ReplyingButton from \"./Icons/replied.svg\";\r\nimport RebitButton from \"./Icons/rebit.svg\";\r\nimport RebitedButton from \"./Icons/rebited.svg\";\r\nimport LikeButton from \"./Icons/like.svg\";\r\nimport LikedButton from \"./Icons/liked.svg\";\r\nimport DislikeButton from \"./Icons/dislike.svg\";\r\nimport DislikedButton from \"./Icons/disliked.svg\";\r\nimport { AccountContext } from \"../../Account\";\r\n\r\nimport BitInfo from \"../../../Types/BitInfo\";\r\nimport ContextProps from \"../../../Types/ContextProps\";\r\n\r\ninterface OtherProps {\r\n  toggleReplying: () => void;\r\n  replying: boolean;\r\n}\r\n\r\ntype BitButtonBarProps = BitInfo & OtherProps;\r\n\r\nconst BitButtonBar: React.FC<BitButtonBarProps> = ({\r\n  toggleReplying,\r\n  replying,\r\n  ...props\r\n}) => {\r\n  // Affect like/dislike counter\r\n  const [rebitShift, setRebitShift] = useState<number>(0);\r\n  const [likeShift, setLikeShift] = useState<number>(0);\r\n  const [dislikeShift, setDislikeShift] = useState<number>(0);\r\n\r\n  const { API_URL, getSession, isLoggedIn }: ContextProps = useContext(\r\n    AccountContext\r\n  );\r\n\r\n  const [isReposted, setIsReposted] = useState<boolean>(\r\n    typeof props.isReposted === \"undefined\" ? false : props.isReposted\r\n  );\r\n  const [isLiked, setIsLiked] = useState<boolean>(false);\r\n  const [isDisliked, setIsDisliked] = useState<boolean>(\r\n    typeof props.isDisliked === \"undefined\" ? false : props.isDisliked\r\n  );\r\n\r\n  useEffect(() => {\r\n    setIsReposted(\r\n      typeof props.isReposted === \"undefined\" ? false : props.isReposted\r\n    );\r\n    setIsLiked(typeof props.isLiked === \"undefined\" ? false : props.isLiked);\r\n    setIsDisliked(\r\n      typeof props.isDisliked === \"undefined\" ? false : props.isDisliked\r\n    );\r\n  }, [props.isReposted, props.isLiked, props.isDisliked]);\r\n\r\n  const reply = () => {\r\n    toggleReplying();\r\n    console.log(`reply to tweet ${props.post_id}`);\r\n    console.error(\"CHANGE REPLY ICON COLOUR\");\r\n    console.log(JSON.stringify(props));\r\n  };\r\n\r\n  const rebit = async () => {\r\n    if (!isLoggedIn) return;\r\n    setIsReposted(true);\r\n    setRebitShift(rebitShift + 1);\r\n    getSession().then(async ({ headers }) => {\r\n      fetch(`${API_URL}/bits/rebit?post_id=${props.post_id}`, {\r\n        headers,\r\n        method: \"POST\",\r\n      })\r\n        .then((response) => response.text())\r\n        .then((result) => console.log(result))\r\n        .catch((error) => console.error(error));\r\n    });\r\n  };\r\n\r\n  const unrebit = () => {\r\n    if (!isLoggedIn) return;\r\n    setIsReposted(false);\r\n    setRebitShift(rebitShift - 1);\r\n    getSession().then(async ({ headers }) => {\r\n      fetch(`${API_URL}/bits/rebit?post_id=${props.post_id}`, {\r\n        headers,\r\n        method: \"DELETE\",\r\n      })\r\n        .then((response) => response.text())\r\n        .then((result) => console.log(result))\r\n        .catch((error) => console.error(error));\r\n    });\r\n  };\r\n\r\n  const like = async () => {\r\n    if (!isLoggedIn) return;\r\n    setIsLiked(true);\r\n    setLikeShift(likeShift + 1);\r\n    getSession().then(async ({ headers }) => {\r\n      fetch(`${API_URL}/bits/like?post_id=${props.post_id}`, {\r\n        headers,\r\n        method: \"POST\",\r\n      })\r\n        .then((response) => response.text())\r\n        .then((result) => console.log(result))\r\n        .catch((error) => console.error(error));\r\n    });\r\n  };\r\n\r\n  const unlike = async () => {\r\n    if (!isLoggedIn) return;\r\n    setIsLiked(false);\r\n    setLikeShift(likeShift - 1);\r\n    getSession().then(async ({ headers }) => {\r\n      fetch(`${API_URL}/bits/like?post_id=${props.post_id}`, {\r\n        headers,\r\n        method: \"DELETE\",\r\n      })\r\n        .then((response) => response.text())\r\n        .then((result) => console.log(result))\r\n        .catch((error) => console.error(error));\r\n    });\r\n  };\r\n\r\n  const dislike = async () => {\r\n    if (!isLoggedIn) return;\r\n    setIsDisliked(true);\r\n    setDislikeShift(dislikeShift + 1);\r\n    getSession().then(async ({ headers }) => {\r\n      fetch(`${API_URL}/bits/dislike?post_id=${props.post_id}`, {\r\n        headers,\r\n        method: \"POST\",\r\n      })\r\n        .then((response) => response.text())\r\n        .then((result) => console.log(result))\r\n        .catch((error) => console.error(error));\r\n    });\r\n  };\r\n\r\n  const undislike = async () => {\r\n    if (!isLoggedIn) return;\r\n    setIsDisliked(false);\r\n    setDislikeShift(dislikeShift - 1);\r\n    getSession().then(async ({ headers }) => {\r\n      fetch(`${API_URL}/bits/dislike?post_id=${props.post_id}`, {\r\n        headers,\r\n        method: \"DELETE\",\r\n      })\r\n        .then((response) => response.text())\r\n        .then((result) => console.log(result))\r\n        .catch((error) => console.error(error));\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"bit-buttons\">\r\n      <div className=\"bit-stat\">\r\n        {replying ? (\r\n          <img src={ReplyingButton} alt=\"reply button\" onClick={reply} />\r\n        ) : (\r\n          <img src={ReplyButton} alt=\"reply button\" onClick={reply} />\r\n        )}\r\n        <div className=\"bit-stat-count\">{props.replies}</div>\r\n      </div>\r\n\r\n      <div className=\"bit-stat\">\r\n        {isReposted ? (\r\n          <img src={RebitedButton} alt=\"rebit button\" onClick={unrebit} />\r\n        ) : (\r\n          <img src={RebitButton} alt=\"rebit button\" onClick={rebit} />\r\n        )}\r\n        <div className=\"bit-stat-count\">{props.reposts + rebitShift}</div>\r\n      </div>\r\n\r\n      <div className=\"bit-stat\">\r\n        {isLiked ? (\r\n          <img src={LikedButton} alt=\"liked button\" onClick={unlike} />\r\n        ) : (\r\n          <img src={LikeButton} alt=\"like button\" onClick={like} />\r\n        )}\r\n        <div className=\"bit-stat-count\">{props.likes + likeShift}</div>\r\n      </div>\r\n\r\n      <div className=\"bit-stat\">\r\n        {isDisliked ? (\r\n          <img src={DislikedButton} alt=\"disliked button\" onClick={undislike} />\r\n        ) : (\r\n          <img src={DislikeButton} alt=\"dislike button\" onClick={dislike} />\r\n        )}\r\n        <div className=\"bit-stat-count\">{props.dislikes + dislikeShift}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BitButtonBar;\r\n","import React, { useRef, useEffect } from \"react\";\r\n\r\n/**\r\n * Hook that alerts clicks outside of the passed ref\r\n */\r\nfunction useOutsideAlerter(ref, isPopoverOpen, setIsPopoverOpen) {\r\n  useEffect(() => {\r\n    /**\r\n     * Alert if clicked on outside of element\r\n     */\r\n    function handleClickOutside(event) {\r\n      if (ref.current && !ref.current.contains(event.target)) {\r\n        setIsPopoverOpen(false);\r\n      }\r\n    }\r\n\r\n    // Bind the event listener\r\n    document.addEventListener(\"mousedown\", handleClickOutside);\r\n    return () => {\r\n      // Unbind the event listener on clean up\r\n      document.removeEventListener(\"mousedown\", handleClickOutside);\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [ref]);\r\n}\r\n\r\n/**\r\n * Component that alerts if you click outside of it\r\n */\r\nexport default function OutsideAlerter(props) {\r\n  const wrapperRef = useRef(null);\r\n  useOutsideAlerter(wrapperRef, props.isPopoverOpen, props.setIsPopoverOpen);\r\n\r\n  return <div ref={wrapperRef}>{props.children}</div>;\r\n}\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport interface BitTagProps {\r\n  tag: string;\r\n}\r\n\r\nconst BitTag: React.FC<BitTagProps> = ({ tag }) => {\r\n  // No tag if first character isn't a letter or digit (invalid handle)\r\n  if (!/[a-zA-Z0-9]/.test(tag[0])) {\r\n    return <>@{tag}</>;\r\n  }\r\n\r\n  // Up to where are chars letters? (Tag up to that point)\r\n  let i = 1;\r\n  while (i < tag.length) {\r\n    if (!/[a-zA-Z0-9]/.test(tag[i])) {\r\n      break;\r\n    } else {\r\n      i++;\r\n    }\r\n  }\r\n\r\n  // Split into tag and not-tag\r\n  const taggedAccount = tag.slice(0, i);\r\n  const postContent = tag.slice(i);\r\n\r\n  return (\r\n    <>\r\n      <Link to={`/u/${taggedAccount}`} style={{ color: \"#3498db\" }}>\r\n        @{taggedAccount}\r\n      </Link>\r\n      {postContent}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default BitTag;\r\n","export default __webpack_public_path__ + \"static/media/delete.932bd998.svg\";","import React, { useState, useEffect, useContext } from \"react\";\r\nimport TextareaAutosize from \"react-textarea-autosize\";\r\nimport ContextProps from \"../../../Types/ContextProps\";\r\nimport { AccountContext } from \"../../Account\";\r\n\r\nexport interface BitReplyBoxProps {\r\n  post_id: string;\r\n  setReplying: React.Dispatch<React.SetStateAction<boolean>>;\r\n}\r\n\r\nconst BitReplyBox: React.FC<BitReplyBoxProps> = ({ post_id, setReplying }) => {\r\n  const { getSession, API_URL }: ContextProps = useContext(AccountContext);\r\n\r\n  const [post, updatePost] = useState<string>(\"\");\r\n  const [remainingChars, updateChars] = useState<number>(140);\r\n  const [charCounterColour, changeCounterColour] = useState<string>(\"black\");\r\n  const [buttonStatus, updateButton] = useState<[boolean, string]>([\r\n    false,\r\n    \"50%\",\r\n  ]);\r\n\r\n  const [errorOccurred, setErrorOccurred] = useState<boolean>(false);\r\n  const [isLoading, setIsLoading] = useState<boolean>(false);\r\n\r\n  const enableButton = () => updateButton([true, \"100%\"]);\r\n  const disableButton = () => updateButton([false, \"50%\"]);\r\n\r\n  const handleChange = (e: any) => {\r\n    const { value } = e.target;\r\n    updatePost(value);\r\n  };\r\n\r\n  const handleSubmitClick = async (e: any) => {\r\n    e.preventDefault();\r\n    e.preventDefault();\r\n    getSession().then(async ({ headers }) => {\r\n      // Check valid length\r\n      if (remainingChars < 0 || remainingChars >= 140) {\r\n        console.error(\"Invalid post length.\");\r\n        return;\r\n      }\r\n\r\n      // Set loading\r\n      setIsLoading(true);\r\n      setErrorOccurred(false);\r\n\r\n      // Set Content-Type (might be correct by default)\r\n      headers[\"Content-Type\"] = \"application/json\";\r\n\r\n      // Request options\r\n      var requestOptions = {\r\n        headers,\r\n        method: \"POST\",\r\n        body: JSON.stringify({ content: post, replyTo: post_id }),\r\n      };\r\n\r\n      // Post to API\r\n      await fetch(`${API_URL}/bits`, requestOptions)\r\n        .then((response) => response.text())\r\n        .then((result) => {\r\n          const resultJSON = JSON.parse(result);\r\n\r\n          // success/failure handling\r\n          if (resultJSON.code === \"postSuccess\") {\r\n            // Empty input field\r\n            updatePost(\"\");\r\n            setReplying(false);\r\n          } else {\r\n            // Error message\r\n            setErrorOccurred(true);\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(\"Error:\", err);\r\n          setErrorOccurred(true);\r\n        })\r\n        .finally(() => {\r\n          // Set not loading\r\n          setIsLoading(false);\r\n        });\r\n    });\r\n    // Post reply\r\n    // Empty text box\r\n    // Hide textbox\r\n  };\r\n\r\n  const updateCharCount = () => {\r\n    updateChars(140 - post.length);\r\n    if (post.length > 140) {\r\n      disableButton();\r\n      changeCounterColour(\"red\");\r\n    } else if (post.length > 110) {\r\n      enableButton();\r\n      changeCounterColour(\"orange\");\r\n    } else if (post.length === 0) {\r\n      disableButton();\r\n      changeCounterColour(\"black\");\r\n    } else {\r\n      enableButton();\r\n      changeCounterColour(\"black\");\r\n    }\r\n  };\r\n\r\n  // Update char count when post changes\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  useEffect(() => updateCharCount(), [post]);\r\n\r\n  return (\r\n    <div className=\"bit-reply-box\">\r\n      {isLoading ? (\r\n        <div id=\"bit-reply-loader-wrapper\">\r\n          <div className=\"loader\" />\r\n        </div>\r\n      ) : (\r\n        <form>\r\n          <TextareaAutosize\r\n            id=\"postbox-input-field\"\r\n            placeholder=\"Post a reply!\"\r\n            value={post}\r\n            onChange={handleChange}\r\n          />\r\n          <button\r\n            type=\"submit\"\r\n            className=\"button-primary\"\r\n            onClick={handleSubmitClick}\r\n            disabled={!buttonStatus[0]}\r\n            style={{ opacity: buttonStatus[1] }}\r\n          >\r\n            Post reply\r\n          </button>\r\n          <div id=\"postbox-charcount\" style={{ color: charCounterColour }}>\r\n            Remaining characters: {remainingChars}\r\n          </div>\r\n\r\n          {/* Generic error message */}\r\n          {errorOccurred ? (\r\n            <div id=\"postbox-error\">An error occurred.</div>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n        </form>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BitReplyBox;\r\n","import React from \"react\";\r\n\r\nexport interface DeletedBitProps {\r\n  classes: string;\r\n}\r\n\r\nconst DeletedBit: React.FC<DeletedBitProps> = ({ classes }) => {\r\n  return (\r\n    <div className={\"bit \" + classes}>\r\n      <div className=\"deleted-bit\">This bit has been deleted</div>\r\n      <hr className=\"bit-splitter\" />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DeletedBit;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport BitButtonBar from \"./BitButtonBar\";\r\nimport { Link } from \"react-router-dom\";\r\nimport OutsideAlerter from \"./OutsideAlerter\";\r\n\r\nimport BitInfo from \"../../../Types/BitInfo\";\r\nimport BitTag from \"./BitTag\";\r\nimport { AccountContext } from \"../../Account\";\r\nimport DeleteButton from \"./Icons/delete.svg\";\r\nimport RebitedButton from \"./Icons/rebited.svg\";\r\nimport RepliedButton from \"./Icons/replied.svg\";\r\nimport ContextProps from \"../../../Types/ContextProps\";\r\nimport BitReplyBox from \"./BitReplyBox\";\r\nimport DeletedBit from \"./DeletedBit\";\r\n\r\n// interface BitInfo {\r\n//   content: string;\r\n//   dislikes: number;\r\n//   display_name: string;\r\n//   handle: string;\r\n//   index: number;\r\n//   likes: number;\r\n//   post_id: number;\r\n//   post_time: string;\r\n//   replies: number;\r\n//   reply_to: number;\r\n//   reposts: number;\r\n//   status: number;\r\n//   user_id: string;\r\n// }\r\n\r\ninterface OtherProps {\r\n  classes?: string;\r\n}\r\n\r\ntype BitProps = BitInfo & OtherProps;\r\n\r\nfunction timestampFormat(post_time: string): string {\r\n  const bitTime: Date = new Date(post_time);\r\n  const milliseconds: number = Date.now() - bitTime.getTime(); // Difference in milliseconds\r\n\r\n  const months: Array<string> = [\r\n    \"Jan \",\r\n    \"Feb \",\r\n    \"Mar \",\r\n    \"Apr \",\r\n    \"May \",\r\n    \"Jun \",\r\n    \"Jul \",\r\n    \"Aug \",\r\n    \"Sep \",\r\n    \"Oct \",\r\n    \"Nov \",\r\n    \"Dec \",\r\n  ];\r\n\r\n  var temp: number = Math.floor(milliseconds / 1000);\r\n\r\n  var days: number = Math.floor((temp %= 31536000) / 86400);\r\n  if (days) {\r\n    // Full date if over a month ago, show year if not current year\r\n    if (days > 30) {\r\n      const day: string = String(bitTime.getDate());\r\n      const month: string = months[bitTime.getMonth()];\r\n      const year: string =\r\n        bitTime.getFullYear() === new Date().getFullYear()\r\n          ? \"\"\r\n          : \", bitTime.getFullYear()\";\r\n\r\n      return month + day + year;\r\n    }\r\n\r\n    return days + \"d\";\r\n  }\r\n  var hours: number = Math.floor((temp %= 86400) / 3600);\r\n  if (hours) {\r\n    return hours + \"h\";\r\n  }\r\n  var minutes: number = Math.floor((temp %= 3600) / 60);\r\n  if (minutes) {\r\n    return minutes + \"m\";\r\n  }\r\n  var seconds: number = temp % 60;\r\n  if (seconds) {\r\n    return seconds + \"s\";\r\n  }\r\n  return \"less than a second\"; //'just now' //or other string you like;\r\n}\r\n\r\nfunction formatDate(date: Date) {\r\n  var hours: any = date.getHours();\r\n  var minutes: any = date.getMinutes();\r\n  var ampm: any = hours >= 12 ? \"pm\" : \"am\";\r\n  hours = hours % 12;\r\n  hours = hours ? hours : 12; // the hour '0' should be '12'\r\n  minutes = minutes < 10 ? \"0\" + minutes : minutes;\r\n  var strTime = hours + \":\" + minutes + \" \" + ampm;\r\n  return (\r\n    date.getMonth() +\r\n    1 +\r\n    \"/\" +\r\n    date.getDate() +\r\n    \"/\" +\r\n    date.getFullYear() +\r\n    \" \" +\r\n    strTime\r\n  );\r\n}\r\n\r\nconst Bit: React.FC<BitProps> = ({ classes = \"\", ...bitInfo }) => {\r\n  const { API_URL, getSession, isAdmin, myHandle }: ContextProps =\r\n    useContext(AccountContext);\r\n\r\n  // Profile pic src\r\n  const [src, setSrc] = useState<string>(\"\");\r\n\r\n  const onError = () => {\r\n    setSrc(`https://bitter-imgs.s3.eu-west-2.amazonaws.com/pfpdefault`);\r\n  };\r\n\r\n  useEffect(() => {\r\n    setSrc(\r\n      \"https://bitter-imgs.s3.eu-west-2.amazonaws.com/pfp-\" +\r\n        bitInfo.handle +\r\n        `?${Date.now().toString().slice(0, -4)}`\r\n    );\r\n  }, [bitInfo.handle]);\r\n\r\n  // Split for tags\r\n  const splitContent = bitInfo.content.split(\"@\");\r\n  const initialContent = splitContent[0];\r\n\r\n  // myHandle to show/hide delete button\r\n  const myPost = myHandle === bitInfo.handle;\r\n\r\n  // Hook to hide tweet after deleting\r\n  const [isDeleted, setIsDeleted] = useState<boolean>(false);\r\n\r\n  // Hook to toggle reply text box\r\n  const [replying, setReplying] = useState<boolean>(false);\r\n  const toggleReplying = (): void => setReplying(!replying);\r\n\r\n  if (typeof bitInfo.rebitter !== \"undefined\" || bitInfo.reply_to !== null) {\r\n    classes += \" reply-bit\";\r\n  }\r\n\r\n  // Delete button\r\n  const handleDeletePost = async (e: any) => {\r\n    e.preventDefault();\r\n    getSession().then(async ({ headers }) => {\r\n      // Request options\r\n      var requestOptions = {\r\n        headers,\r\n        method: \"DELETE\",\r\n      };\r\n\r\n      // Call API\r\n      await fetch(`${API_URL}/bits?post_id=${bitInfo.post_id}`, requestOptions)\r\n        .then((response) => response.text())\r\n        .then((result) => {\r\n          const resultJSON = JSON.parse(result);\r\n\r\n          // success/failure handling\r\n          if (resultJSON.code === \"deleteSuccess\") {\r\n            // Hide post\r\n            setIsDeleted(true);\r\n          } else {\r\n            // Error message\r\n            console.log(result);\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(\"Error:\", err);\r\n          // setErrorOccurred(true);\r\n        });\r\n    });\r\n  };\r\n\r\n  // Delete popover\r\n  const [isPopoverOpen, setIsPopoverOpen] = useState<boolean>(false);\r\n\r\n  // Numbers for interactions\r\n  return (\r\n    <>\r\n      {bitInfo.post_id === \"DELETED_POST\" ? (\r\n        <DeletedBit classes={classes} />\r\n      ) : (\r\n        <div\r\n          className={\"bit \" + classes}\r\n          style={{\r\n            display: isDeleted ? \"none\" : \"\",\r\n          }}\r\n        >\r\n          <div className=\"bit-message\">\r\n            {/* Show who replied to if reply */}\r\n            <div\r\n              className=\"bit-reply-author\"\r\n              style={{\r\n                display: bitInfo.reply_to === null ? \"none\" : \"\",\r\n                top: typeof bitInfo.rebitter === \"undefined\" ? \"4px\" : \"20px\",\r\n              }}\r\n            >\r\n              <img src={RepliedButton} alt=\"rebit button\" />\r\n              <Link to={`/b/${bitInfo.reply_to}`}>\r\n                <span style={{ color: \"#10b\" }}>Reply</span>\r\n              </Link>{\" \"}\r\n              to\r\n              <Link to={`/u/${bitInfo.reply_author}`}>\r\n                {\" \"}\r\n                @{bitInfo.reply_author}\r\n              </Link>\r\n              <span\r\n                style={{\r\n                  display:\r\n                    typeof bitInfo.rebitter === \"undefined\" ? \"none\" : \"\",\r\n                  color: \"black\",\r\n                }}\r\n              >\r\n                {\" \"}\r\n                {\" \"}\r\n              </span>\r\n            </div>\r\n\r\n            {/* Show who rebitted if rebit */}\r\n            <div\r\n              className=\"bit-rebitter\"\r\n              style={{\r\n                display: typeof bitInfo.rebitter === \"undefined\" ? \"none\" : \"\",\r\n              }}\r\n            >\r\n              <img src={RebitedButton} alt=\"rebit button\" />\r\n              <span>Rebitted by </span>\r\n              <Link to={`/u/${bitInfo.rebitter}`}>@{bitInfo.rebitter}</Link>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Poster profile picture */}\r\n          <Link to={`/u/${bitInfo.handle}`}>\r\n            <div className=\"bit-pfp\">\r\n              <img src={src} onError={onError} alt=\"profile pic\" />\r\n            </div>\r\n          </Link>\r\n\r\n          <div className=\"bit-content\">\r\n            {/* Poster info */}\r\n            <div className=\"bit-info\">\r\n              <Link to={`/u/${bitInfo.handle}`}>\r\n                <span className=\"bit-info-displayname\">\r\n                  {bitInfo.display_name}\r\n                </span>\r\n                <span className=\"bit-info-handle\">@{bitInfo.handle}</span>\r\n              </Link>\r\n              \r\n              <Link to={`/b/${bitInfo.post_id}`}>\r\n                <span\r\n                  className=\"bit-info-time\"\r\n                  title={formatDate(new Date(bitInfo.post_time))}\r\n                >\r\n                  {timestampFormat(bitInfo.post_time)}\r\n                </span>\r\n              </Link>\r\n            </div>\r\n\r\n            <input\r\n              type=\"image\"\r\n              className=\"bit-delete\"\r\n              src={DeleteButton}\r\n              alt=\"dislike button\"\r\n              onClick={() => setIsPopoverOpen(true)}\r\n              style={{ display: myPost || isAdmin ? \"block\" : \"none\" }}\r\n            />\r\n\r\n            <OutsideAlerter\r\n              isPopoverOpen={isPopoverOpen}\r\n              setIsPopoverOpen={setIsPopoverOpen}\r\n            >\r\n              <div\r\n                className=\"bit-delete-popover\"\r\n                style={{ display: isPopoverOpen ? \"block\" : \"none\" }}\r\n                // handleClickOutside={() => setIsPopoverOpen(false)}\r\n              >\r\n                <button\r\n                  className=\"button-primary delete-post\"\r\n                  onClick={handleDeletePost}\r\n                >\r\n                  Delete post\r\n                </button>\r\n                <div className=\"delete-post-arrow\" />\r\n              </div>\r\n            </OutsideAlerter>\r\n\r\n            <div className=\"bit-text\">\r\n              {initialContent}\r\n              {splitContent.slice(1).map((tag, index) => (\r\n                <BitTag tag={tag} key={index} />\r\n              ))}\r\n            </div>\r\n            <BitButtonBar\r\n              {...bitInfo}\r\n              toggleReplying={toggleReplying}\r\n              replying={replying}\r\n            />\r\n          </div>\r\n          {replying ? (\r\n            <BitReplyBox post_id={bitInfo.post_id} setReplying={setReplying} />\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          <hr className=\"bit-splitter\" />\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Bit;\r\n","import React from \"react\";\r\nimport Bit from \"./Bit\";\r\nimport \"./Bits.css\";\r\n\r\nimport BitInfo from \"../../../Types/BitInfo\";\r\n// interface BitInfo {\r\n//   content: string;\r\n//   dislikes: number;\r\n//   display_name: string;\r\n//   handle: string;\r\n//   index: number;\r\n//   likes: number;\r\n//   post_id: number;\r\n//   post_time: string;\r\n//   replies: number;\r\n//   reply_to: number;\r\n//   reposts: number;\r\n//   status: number;\r\n//   user_id: string;\r\n// }\r\n\r\ninterface Props {\r\n  bits: Array<BitInfo>;\r\n  isLoading: boolean;\r\n}\r\n\r\nconst BitList: React.FC<Props> = ({ bits, isLoading }) => {\r\n  // retrieve bits from props\r\n\r\n  return (\r\n    <>\r\n      {isLoading ? (\r\n        <div className=\"bitlist-loader\">\r\n          <div className=\"loader\" />\r\n        </div>\r\n      ) : bits.length > 0 ? (\r\n        bits.map((bit, index) => (\r\n          <Bit {...bit} key={bit.post_id + bit.rebitter} index={index} />\r\n        ))\r\n      ) : (\r\n        <div className=\"no-bits\">No bits found</div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default BitList;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { AccountContext } from \"../Account\";\r\nimport BitList from \"../Main/BitList/BitList\";\r\nimport BitInfo from \"../../Types/BitInfo\";\r\nimport ContextProps from \"../../Types/ContextProps\";\r\n\r\n// interface BitInfo {\r\n//   content: string;\r\n//   dislikes: number;\r\n//   display_name: string;\r\n//   handle: string;\r\n//   index: number;\r\n//   likes: number;\r\n//   post_id: number;\r\n//   post_time: string;\r\n//   replies: number;\r\n//   reply_to: number;\r\n//   reposts: number;\r\n//   status: number;\r\n//   user_id: string;\r\n// }\r\n\r\nconst TimelineBitList: React.FC<{}> = () => {\r\n  // fetch list of bits\r\n  const [bits, setBits] = useState<Array<BitInfo>>([]);\r\n  const [isLoading, setIsLoading] = useState<boolean>(false);\r\n  const [requestCounter, setRequestCounter] = useState<number>(0);\r\n\r\n  const { API_URL, myHandle, refreshList }: ContextProps = useContext(\r\n    AccountContext\r\n  );\r\n\r\n  useEffect(() => {\r\n    fetchBits();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [myHandle, refreshList]);\r\n\r\n  const fetchBits = async () => {\r\n    setRequestCounter(requestCounter + 1);\r\n    const requestId = requestCounter;\r\n\r\n    setIsLoading(true);\r\n    // setBits([]);\r\n    console.log(\"Fetching bits...\");\r\n\r\n    const data = await fetch(`${API_URL}/bits/timeline?handle=${myHandle}`);\r\n    const resp: any = await data.json();\r\n\r\n    // Only update if final request ie ignore if another request was sent out after\r\n    if (requestId === requestCounter) {\r\n      if (resp.code === \"getSuccess\") {\r\n        const bits: Array<BitInfo> = JSON.parse(resp.posts);\r\n        setBits(bits);\r\n      } else {\r\n        setBits([]);\r\n      }\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  // pass into BitList\r\n  return <BitList bits={bits} isLoading={isLoading} />;\r\n};\r\n\r\nexport default TimelineBitList;\r\n","import React from \"react\";\r\nimport PostBit from \"../components/Timeline/PostBit\";\r\nimport TimelineBitList from \"../components/Timeline/TimelineBitList\";\r\nimport \"../components/Timeline/Timeline.css\";\r\n\r\nconst Timeline: React.FC<{}> = () => {\r\n  document.title = \"Home / Bitter\";\r\n\r\n  return (\r\n    <div className=\"timeline\">\r\n      <PostBit />\r\n      <TimelineBitList />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Timeline;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { AccountContext } from \"../Account\";\r\nimport BitList from \"../Main/BitList/BitList\";\r\nimport BitInfo from \"../../Types/BitInfo\";\r\nimport ContextProps from \"../../Types/ContextProps\";\r\n\r\n// interface BitInfo {\r\n//   content: string;\r\n//   dislikes: number;\r\n//   display_name: string;\r\n//   handle: string;\r\n//   index: number;\r\n//   likes: number;\r\n//   post_id: number;\r\n//   post_time: string;\r\n//   replies: number;\r\n//   reply_to: number;\r\n//   reposts: number;\r\n//   status: number;\r\n//   user_id: string;\r\n// }\r\n\r\nconst AllBitsList: React.FC<{}> = () => {\r\n  // fetch list of bits\r\n  const [bits, setBits] = useState<Array<BitInfo>>([]);\r\n  const [isLoading, setIsLoading] = useState<boolean>(false);\r\n  const [requestCounter, setRequestCounter] = useState<number>(0);\r\n\r\n  const { API_URL, refreshList, myHandle }: ContextProps =\r\n    useContext(AccountContext);\r\n\r\n  useEffect(() => {\r\n    fetchBits();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [refreshList]);\r\n\r\n  const fetchBits = async () => {\r\n    setRequestCounter(requestCounter + 1);\r\n    const requestId = requestCounter;\r\n\r\n    setIsLoading(true);\r\n    // setBits([]);\r\n    console.log(\"Fetching bits...\");\r\n\r\n    const data = await fetch(`${API_URL}/bits/all?handle=${myHandle}`);\r\n    const resp: any = await data.json();\r\n\r\n    // Only update if final request ie ignore if another request was sent out after\r\n    if (requestId === requestCounter) {\r\n      if (resp.code === \"getSuccess\") {\r\n        const bits: Array<BitInfo> = JSON.parse(resp.posts);\r\n        setBits(bits);\r\n      } else {\r\n        setBits([]);\r\n      }\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  // pass into BitList\r\n  return <BitList bits={bits} isLoading={isLoading} />;\r\n};\r\n\r\nexport default AllBitsList;\r\n","import React from \"react\";\r\nimport PostBit from \"../components/Timeline/PostBit\";\r\nimport AllBitsList from \"../components/Timeline/AllBitsList\";\r\nimport \"../components/Timeline/Timeline.css\";\r\n\r\nconst Timeline: React.FC<{}> = () => {\r\n  document.title = \"All posts / Bitter\";\r\n\r\n  return (\r\n    <div className=\"timeline\">\r\n      <PostBit />\r\n      <AllBitsList />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Timeline;\r\n","import React, { useEffect, useState } from \"react\";\r\n\r\nconst UserBanner: React.FC<{ handle: string }> = ({ handle }) => {\r\n  const [src, setSrc] = useState<string>(\"\");\r\n\r\n  const onError = () => {\r\n    setSrc(`${process.env.PUBLIC_URL}/placeholderbanner.png`);\r\n  };\r\n\r\n  useEffect(() => {\r\n    setSrc(\r\n      \"https://bitter-imgs.s3.eu-west-2.amazonaws.com/banner-\" +\r\n        handle +\r\n        `?${Date.now()}`\r\n    );\r\n  }, [handle]);\r\n\r\n  return (\r\n    <div className=\"user-banner\">\r\n      <img src={src} onError={onError} alt=\"profile banner\" />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserBanner;\r\n","import React, { useEffect, useState } from \"react\";\r\n\r\nconst UserPhoto: React.FC<{ handle: string }> = ({ handle }) => {\r\n  const [src, setSrc] = useState<string>(\"\");\r\n\r\n  const onError = () => {\r\n    setSrc(`https://bitter-imgs.s3.eu-west-2.amazonaws.com/pfpdefault`);\r\n  };\r\n\r\n  useEffect(() => {\r\n    setSrc(\r\n      `https://bitter-imgs.s3.eu-west-2.amazonaws.com/pfp-${handle}` +\r\n        `?${Date.now().toString().slice(0, -4)}`\r\n    );\r\n  }, [handle]);\r\n\r\n  return (\r\n    <div className=\"user-photo\">\r\n      <img src={src} onError={onError} alt=\"profile pic\" />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserPhoto;\r\n","import React, { useContext } from \"react\";\r\nimport ContextProps from \"../../../Types/ContextProps\";\r\nimport { AccountContext } from \"../../Account\";\r\n\r\nconst FollowButton: React.FC<{ handle: string }> = ({ handle }) => {\r\n  const {\r\n    setIsFollowing,\r\n    createFollowEdge,\r\n    isLoggedIn,\r\n  }: ContextProps = useContext(AccountContext);\r\n\r\n  const follow = async () => {\r\n    if (isLoggedIn) {\r\n      setIsFollowing(true);\r\n\r\n      // update db\r\n      createFollowEdge(handle);\r\n    } else {\r\n      console.log(\"Not logged in\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <button className=\"button\" onClick={follow}>\r\n      Follow\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default FollowButton;\r\n","import React, { useContext } from \"react\";\r\nimport ContextProps from \"../../../Types/ContextProps\";\r\nimport { AccountContext } from \"../../Account\";\r\n\r\nconst UnfollowButton: React.FC<{ handle: string }> = ({ handle }) => {\r\n  const {\r\n    myHandle,\r\n    setIsFollowing,\r\n    deleteFollowEdge,\r\n  }: ContextProps = useContext(AccountContext);\r\n\r\n  const unfollow = async () => {\r\n    if (myHandle === handle) {\r\n      console.log(\"Can't unfollow yourself!\");\r\n      return;\r\n    }\r\n\r\n    setIsFollowing(false);\r\n\r\n    // update db\r\n    deleteFollowEdge(handle);\r\n  };\r\n\r\n  return (\r\n    <button className=\"button-primary\" onClick={unfollow}>\r\n      Following\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default UnfollowButton;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { useHistory } from \"react-router\";\r\nimport TextareaAutosize from \"react-textarea-autosize\";\r\nimport Popup from \"reactjs-popup\";\r\nimport Styled from \"styled-components\";\r\nimport ContextProps from \"../../../Types/ContextProps\";\r\nimport { AccountContext } from \"../../Account\";\r\n\r\nconst StyledPopup = Styled(Popup)`\r\n  &-content {\r\n    width: 350px;\r\n    padding: 40px;\r\n    text-align: center;\r\n  }\r\n`;\r\n\r\n// EDIT PROFILE\r\n\r\nconst EditProfileButton: React.FC<{ bio?: string; display_name?: string }> = (\r\n  props\r\n) => {\r\n  // Whether modal is open or not\r\n  const [open, setOpen] = useState<boolean>(false);\r\n  const closeModal = () => {\r\n    if (changesSubmitted) history.go(0);\r\n    setOpen(false);\r\n    resetInputs();\r\n  };\r\n  const history = useHistory();\r\n\r\n  const maxDisplayNameLength = 25;\r\n  const maxBioLength = 160;\r\n\r\n  //#region states\r\n  // Input field states\r\n  const [displayName, setDisplayName] = useState<string>(\"\");\r\n  const [bio, setBio] = useState<string>(\"\");\r\n  const [isLoading, setIsLoading] = useState<boolean>(false);\r\n\r\n  // Error messages\r\n  const [textErrorOccurred, setTextErrorOccurred] = useState<boolean>(false);\r\n  const [pfpErrorOccurred, setPfpErrorOccurred] = useState<boolean>(false);\r\n  const [bannerErrorOccurred, setBannerErrorOccurred] = useState<boolean>(\r\n    false\r\n  );\r\n  const [pfpTooBig, setPfpTooBig] = useState<boolean>(false);\r\n  const [bannerTooBig, setBannerTooBig] = useState<boolean>(false);\r\n\r\n  // Images\r\n  const [pfp, setPfp] = useState<any>(undefined);\r\n  const [banner, setBanner] = useState<any>(undefined);\r\n\r\n  // Record if changes made\r\n  const [textChanged, setTextChanged] = useState<boolean>(false);\r\n  const [changesSubmitted, setChangesSubmitted] = useState<boolean>(false);\r\n\r\n  const textButtonActive: boolean =\r\n    textChanged &&\r\n    displayName.trim().length > 0 &&\r\n    displayName.trim().length <= maxDisplayNameLength &&\r\n    bio.trim().length <= maxBioLength;\r\n  //#endregion\r\n\r\n  const { getSession, API_URL }: ContextProps = useContext(AccountContext);\r\n\r\n  const resetInputs = () => {\r\n    if (props.display_name) {\r\n      setDisplayName(props.display_name);\r\n    }\r\n    if (props.bio) {\r\n      setBio(props.bio);\r\n    }\r\n    setTextChanged(false);\r\n    setPfp(undefined);\r\n    setBanner(undefined);\r\n    setPfpTooBig(false);\r\n    setBannerTooBig(false);\r\n  };\r\n\r\n  // Update input fields on page load\r\n  useEffect(() => {\r\n    resetInputs();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [props]);\r\n\r\n  const toBase64 = (file: any) =>\r\n    new Promise((resolve, reject) => {\r\n      const reader = new FileReader();\r\n      reader.readAsDataURL(file);\r\n      reader.onload = () => resolve(reader.result);\r\n      reader.onerror = (error) => reject(error);\r\n    });\r\n\r\n  //#region text fields\r\n  // Inputting changes\r\n  const handleBioChange = (e: any) => {\r\n    const { value } = e.target;\r\n    setBio(value);\r\n    setTextChanged(true);\r\n  };\r\n  const handleDisplayNameChange = (e: any) => {\r\n    const { value } = e.target;\r\n    setDisplayName(value);\r\n    setTextChanged(true);\r\n  };\r\n\r\n  // Submit text field changes\r\n  const onSubmitText = async (e: any) => {\r\n    e.preventDefault();\r\n\r\n    // Remove whitespace from start and end\r\n    setBio(bio.trim());\r\n    setDisplayName(displayName.trim());\r\n\r\n    getSession().then(async ({ headers }) => {\r\n      // Set loading\r\n      setIsLoading(true);\r\n\r\n      // Set Content-Type (might be correct by default)\r\n      headers[\"Content-Type\"] = \"application/json\";\r\n\r\n      // Request options\r\n      var requestOptions = {\r\n        headers,\r\n        method: \"PATCH\",\r\n        body: JSON.stringify({ display_name: displayName, bio: bio }),\r\n      };\r\n\r\n      // Post to api\r\n      await fetch(`${API_URL}/users`, requestOptions)\r\n        .then((response) => response.text())\r\n        .then((result) => {\r\n          const resultJSON = JSON.parse(result);\r\n\r\n          // Success/failure handling\r\n          if (resultJSON.code === \"updateSuccess\") {\r\n            // Refresh page\r\n            setChangesSubmitted(true);\r\n          } else {\r\n            // Error message\r\n            setTextErrorOccurred(true);\r\n          }\r\n        });\r\n\r\n      // Set not loading\r\n      setIsLoading(false);\r\n    });\r\n  };\r\n  //#endregion\r\n\r\n  //#region pfp\r\n  const handlePfpChange = async (e: any) => {\r\n    const file: any = e.target.files[0];\r\n    setPfp(file);\r\n    setPfpTooBig(file.size > 20971520);\r\n  };\r\n\r\n  const onSubmitPfp = async (e: any) => {\r\n    e.preventDefault();\r\n\r\n    // Convert pfp to base64\r\n    const base64File = await toBase64(pfp);\r\n    if (typeof base64File !== \"string\") return;\r\n\r\n    getSession().then(async ({ headers }) => {\r\n      // Set loading\r\n      setIsLoading(true);\r\n\r\n      // Set content type (necessary)\r\n      headers[\"Content-Type\"] = \"application/json\";\r\n\r\n      // Request options\r\n      var requestOptions = {\r\n        headers,\r\n        method: \"PUT\",\r\n        body: JSON.stringify({\r\n          image: base64File,\r\n          field: \"pfp\",\r\n          type: pfp.type,\r\n        }),\r\n      };\r\n\r\n      // Post to api\r\n      await fetch(`${API_URL}/users`, requestOptions)\r\n        .then((response) => response.text())\r\n        .then((result) => {\r\n          const resultJSON = JSON.parse(result);\r\n\r\n          // Success/failure handling\r\n          if (resultJSON.code === \"uploadSuccess\") {\r\n            // Refresh page\r\n            setChangesSubmitted(true);\r\n            setPfp(undefined);\r\n          } else {\r\n            // Error message\r\n            setPfpErrorOccurred(true);\r\n          }\r\n        });\r\n\r\n      // Set not loading\r\n      setIsLoading(false);\r\n    });\r\n  };\r\n  //#endregion\r\n\r\n  //#region banner\r\n  const handleBannerChange = async (e: any) => {\r\n    const file: any = e.target.files[0];\r\n    setBanner(file);\r\n    setBannerTooBig(file.size > 20971520);\r\n  };\r\n\r\n  const onSubmitBanner = async (e: any) => {\r\n    e.preventDefault();\r\n\r\n    // Convert banner to base64\r\n    const base64File = await toBase64(banner);\r\n    if (typeof base64File !== \"string\") return;\r\n\r\n    getSession().then(async ({ headers }) => {\r\n      // Set loading\r\n      setIsLoading(true);\r\n\r\n      // Set content type (necessary)\r\n      headers[\"Content-Type\"] = \"application/json\";\r\n\r\n      // Request options\r\n      var requestOptions = {\r\n        headers,\r\n        method: \"PUT\",\r\n        body: JSON.stringify({\r\n          image: base64File,\r\n          field: \"banner\",\r\n          type: banner.type,\r\n        }),\r\n      };\r\n\r\n      // Post to api\r\n      await fetch(`${API_URL}/users`, requestOptions)\r\n        .then((response) => response.text())\r\n        .then((result) => {\r\n          const resultJSON = JSON.parse(result);\r\n\r\n          // Success/failure handling\r\n          if (resultJSON.code === \"uploadSuccess\") {\r\n            // Refresh page\r\n            setChangesSubmitted(true);\r\n            setBanner(undefined);\r\n          } else {\r\n            // Error message\r\n            setBannerErrorOccurred(true);\r\n          }\r\n        });\r\n\r\n      // Set not loading\r\n      setIsLoading(false);\r\n    });\r\n  };\r\n  //#endregion\r\n\r\n  return (\r\n    <>\r\n      <button\r\n        className=\"button\"\r\n        onClick={() => setOpen(true)}\r\n        style={{ width: \"140px\" }}\r\n      >\r\n        Edit Profile\r\n      </button>\r\n\r\n      <StyledPopup open={open} modal onClose={closeModal}>\r\n        {isLoading ? (\r\n          <div className=\"loader\"></div>\r\n        ) : (\r\n          <>\r\n            <div className=\"edit-profile-title\">Edit Profile</div>\r\n            <form onSubmit={onSubmitText}>\r\n              <div className=\"edit-profile-label\">Change display name</div>\r\n              <TextareaAutosize\r\n                className=\"edit-profile-input\"\r\n                placeholder=\"Display name\"\r\n                value={displayName}\r\n                onChange={handleDisplayNameChange}\r\n              />\r\n              {/* Display name empty */}\r\n              {displayName.trim().length === 0 ? (\r\n                <div className=\"form-error-message\">\r\n                  Display name cannot be empty\r\n                </div>\r\n              ) : (\r\n                \"\"\r\n              )}\r\n              {/* Display name too long */}\r\n              {displayName.trim().length > maxDisplayNameLength ? (\r\n                <div className=\"form-error-message\">\r\n                  Display name is too long\r\n                </div>\r\n              ) : (\r\n                \"\"\r\n              )}\r\n\r\n              <div className=\"edit-profile-label\">Change bio</div>\r\n              <TextareaAutosize\r\n                className=\"edit-profile-input\"\r\n                placeholder=\"Bio\"\r\n                value={bio}\r\n                onChange={handleBioChange}\r\n              />\r\n              {/* Bio too long */}\r\n              {bio.trim().length > maxBioLength ? (\r\n                <div className=\"form-error-message\">Bio too long</div>\r\n              ) : (\r\n                \"\"\r\n              )}\r\n              {/* Post error occurred */}\r\n              {textErrorOccurred ? (\r\n                <div className=\"form-error-message\">An error occurred</div>\r\n              ) : (\r\n                \"\"\r\n              )}\r\n              <button\r\n                type=\"submit\"\r\n                className=\"button-primary edit-profile-button\"\r\n                style={{\r\n                  opacity: textButtonActive ? 1 : 0.5,\r\n                  cursor: !textButtonActive ? \"initial\" : \"pointer\",\r\n                }}\r\n                disabled={!textButtonActive}\r\n              >\r\n                Submit changes\r\n              </button>\r\n            </form>\r\n\r\n            <hr className=\"edit-profile-hr\" />\r\n\r\n            <div className=\"edit-profile-label\">Change profile picture</div>\r\n            <input\r\n              type=\"file\"\r\n              name=\"upload-pfp\"\r\n              accept=\".jpeg, .png, .jpg\"\r\n              id=\"upload-pfp\"\r\n              onChange={handlePfpChange}\r\n            />\r\n            <div className=\"image-rec-size\">(Recommended size: 140x140)</div>\r\n            <button\r\n              className=\"button-primary edit-profile-button\"\r\n              style={{\r\n                opacity: pfp === undefined || pfpTooBig ? 0.5 : 1,\r\n                cursor:\r\n                  pfp === undefined || bannerTooBig ? \"initial\" : \"pointer\",\r\n              }}\r\n              disabled={pfp === undefined || pfpTooBig}\r\n              onClick={onSubmitPfp}\r\n            >\r\n              Upload new profile pic\r\n            </button>\r\n            {/* File too big */}\r\n            {pfpTooBig ? (\r\n              <div className=\"form-error-message\">File too big (max 20MB)</div>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n            {/* Post error occurred */}\r\n            {pfpErrorOccurred ? (\r\n              <div className=\"form-error-message\">An error occurred</div>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n\r\n            <hr className=\"edit-profile-hr\" />\r\n\r\n            <div className=\"edit-profile-label\">Change banner</div>\r\n            <input\r\n              type=\"file\"\r\n              name=\"upload-banner\"\r\n              accept=\".jpeg, .png, .jpg\"\r\n              id=\"upload-banner\"\r\n              onChange={handleBannerChange}\r\n            />\r\n            <div className=\"image-rec-size\">(Recommended size: 600x150)</div>\r\n            <button\r\n              className=\"button-primary edit-profile-button\"\r\n              style={{\r\n                opacity: banner === undefined || bannerTooBig ? 0.5 : 1,\r\n                cursor:\r\n                  banner === undefined || bannerTooBig ? \"initial\" : \"pointer\",\r\n              }}\r\n              disabled={banner === undefined || bannerTooBig}\r\n              onClick={onSubmitBanner}\r\n            >\r\n              Upload new banner\r\n            </button>\r\n            {/* File too big */}\r\n            {bannerTooBig ? (\r\n              <div className=\"form-error-message\">File too big (max 20MB)</div>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n            {/* Post error occurred */}\r\n            {bannerErrorOccurred ? (\r\n              <div className=\"form-error-message\">An error occurred</div>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n\r\n            <hr className=\"edit-profile-hr\" />\r\n\r\n            <button onClick={closeModal} style={{ marginTop: \"20px\" }}>\r\n              Close window\r\n            </button>\r\n          </>\r\n        )}\r\n      </StyledPopup>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default EditProfileButton;\r\n","import React, { useContext } from \"react\";\r\nimport FollowButton from \"./FollowButton\";\r\nimport UnfollowButton from \"./UnfollowButton\";\r\nimport EditProfileButton from \"./EditProfileButton\";\r\nimport { AccountContext } from \"../../Account\";\r\nimport ContextProps from \"../../../Types/ContextProps\";\r\n\r\nconst UserFollowButton: React.FC<{\r\n  handle: string;\r\n  bio?: string;\r\n  display_name?: string;\r\n  isHater: () => boolean;\r\n}> = ({ handle, bio, display_name, isHater }) => {\r\n  const { myHandle, isFollowing }: ContextProps = useContext(AccountContext);\r\n\r\n  return (\r\n    <div className=\"user-follow-button\">\r\n      {isHater() ? (\r\n        <div\r\n          className=\"user-branding user-branding-hater\"\r\n          title=\"This user has more dislikes than likes\"\r\n        >\r\n          HATER\r\n        </div>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n\r\n      {myHandle === handle ? (\r\n        <EditProfileButton bio={bio} display_name={display_name} />\r\n      ) : isFollowing ? (\r\n        <UnfollowButton handle={handle} />\r\n      ) : (\r\n        <FollowButton handle={handle} />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserFollowButton;\r\n","import React, { useState } from \"react\";\r\n\r\nimport User from \"../../../Types/User\";\r\n// interface User {\r\n//   user_id: string;\r\n//   handle?: string;\r\n//   display_name?: string;\r\n//   created_on?: string;\r\n//   bio?: string;\r\n//   follower_count?: number;\r\n//   following_count?: number;\r\n// }\r\n\r\ninterface Props {\r\n  updatePageState: (stateId: number) => void;\r\n  user: User;\r\n}\r\n\r\nconst UserInfo: React.FC<Props> = ({ updatePageState, user }) => {\r\n  const [listId, setListId] = useState<number>(0);\r\n  const printProps = () => {\r\n    console.log(\"yo\", user);\r\n  };\r\n\r\n  const months: Array<string> = [\r\n    \"Jan \",\r\n    \"Feb \",\r\n    \"Mar \",\r\n    \"Apr \",\r\n    \"May \",\r\n    \"Jun \",\r\n    \"Jul \",\r\n    \"Aug \",\r\n    \"Sep \",\r\n    \"Oct \",\r\n    \"Nov \",\r\n    \"Dec \",\r\n  ];\r\n\r\n  const formatDate = (date: string | undefined) => {\r\n    if (!date) return \"\";\r\n    const x = new Date(date);\r\n    const month = x.getMonth();\r\n    const year = x.getFullYear();\r\n    return \"Joined: \" + months[month] + \" \" + year;\r\n  };\r\n\r\n  const changeTab = (state: number): void => {\r\n    setListId(state);\r\n    updatePageState(state);\r\n  };\r\n\r\n  return (\r\n    <div className=\"user-info\">\r\n      <div className=\"user-displayname\" onClick={printProps}>\r\n        {user.display_name}\r\n      </div>\r\n      <div id=\"user-joindate\">{formatDate(user.created_on)}</div>\r\n      <div className=\"user-handle\">{user.handle}</div>\r\n      <div className=\"user-bio\">{user.bio}</div>\r\n      <div className=\"user-tabs\">\r\n        <div\r\n          className={\r\n            \"user-tab-bits\" + (listId === 0 ? \" user-current-tab\" : \"\")\r\n          }\r\n          onClick={() => changeTab(0)}\r\n        >\r\n          <b>{user.bits_count}</b> Bits\r\n        </div>\r\n        <div\r\n          className={\r\n            \"user-tab-replies\" + (listId === 1 ? \" user-current-tab\" : \"\")\r\n          }\r\n          onClick={() => changeTab(1)}\r\n        >\r\n          <b>{user.replies}</b> Bits and replies\r\n        </div>\r\n        <div\r\n          className={\r\n            \"user-following\" + (listId === 2 ? \" user-current-tab\" : \"\")\r\n          }\r\n          onClick={() => changeTab(2)}\r\n        >\r\n          <b>{user.following_count}</b> Following\r\n        </div>\r\n        <div\r\n          className={\r\n            \"user-followers\" + (listId === 3 ? \" user-current-tab\" : \"\")\r\n          }\r\n          onClick={() => changeTab(3)}\r\n        >\r\n          <b>{user.follower_count}</b> Followers\r\n        </div>\r\n        <div\r\n          className={\"user-likes\" + (listId === 4 ? \" user-current-tab\" : \"\")}\r\n          onClick={() => changeTab(4)}\r\n        >\r\n          <b>{user.likes}</b> Likes\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserInfo;\r\n","import React from \"react\";\r\nimport \"./UserHeader.css\";\r\n\r\nimport UserBanner from \"./components/UserBanner\";\r\nimport UserPhoto from \"./components/UserPhoto\";\r\nimport UserFollowButton from \"./components/UserFollowButton\";\r\nimport UserInfo from \"./components/UserInfo\";\r\n\r\nimport User from \"../../Types/User\";\r\n// interface User {\r\n//   handle: string;\r\n//   handle?: string;\r\n//   display_name?: string;\r\n//   created_on?: string;\r\n//   bio?: string;\r\n//   follower_count?: number;\r\n//   following_count?: number;\r\n// }\r\n\r\ninterface Props {\r\n  updatePageState: (stateId: number) => void;\r\n  user: User;\r\n}\r\n\r\nconst UserHeader: React.FC<Props> = ({ updatePageState, user }) => {\r\n  const isHater = (): boolean => {\r\n    if (!user.dislikes || !user.likes) return false;\r\n    if (user.dislikes > user.likes) return true;\r\n    else return false;\r\n  };\r\n\r\n  return (\r\n    <div className=\"user-header\">\r\n      <UserBanner handle={user.handle} />\r\n      <div className=\"user-pfp-follow\">\r\n        <UserPhoto handle={user.handle} />\r\n        <UserFollowButton\r\n          handle={user.handle}\r\n          bio={user.bio}\r\n          display_name={user.display_name}\r\n          isHater={isHater}\r\n        />\r\n      </div>\r\n      <UserInfo updatePageState={updatePageState} user={user} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserHeader;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { AccountContext } from \"../Account\";\r\nimport BitList from \"../Main/BitList/BitList\";\r\nimport \"./UserBitList.css\";\r\nimport \"./UserFollowList.css\";\r\n\r\nimport BitInfo from \"../../Types/BitInfo\";\r\nimport ContextProps from \"../../Types/ContextProps\";\r\n// interface BitInfo {\r\n//   content: string;\r\n//   dislikes: number;\r\n//   display_name: string;\r\n//   handle: string;\r\n//   index: number;\r\n//   likes: number;\r\n//   post_id: number;\r\n//   post_time: string;\r\n//   replies: number;\r\n//   reply_to: number;\r\n//   reposts: number;\r\n//   status: number;\r\n//   user_id: number;\r\n// }\r\n\r\ninterface Props {\r\n  replies: boolean;\r\n}\r\n\r\nconst UserBitList: React.FC<Props> = ({ replies }) => {\r\n  // fetch list of bits\r\n  const [bits, setBits] = useState<Array<BitInfo>>([]);\r\n  const [isLoading, setIsLoading] = useState<boolean>(false);\r\n\r\n  const { API_URL, currHandle, myHandle }: ContextProps = useContext(\r\n    AccountContext\r\n  );\r\n\r\n  // Fetch posts every time the user changes\r\n  useEffect(() => {\r\n    fetchBits();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [currHandle]);\r\n\r\n  const fetchBits = async () => {\r\n    setIsLoading(true);\r\n    const data = await fetch(\r\n      `${API_URL}/users/posts?handle=${currHandle}&myHandle=${myHandle}`\r\n    );\r\n    const resp: any = await data.json();\r\n\r\n    if (resp.code === \"getSuccess\") {\r\n      const bits: Array<BitInfo> = JSON.parse(resp.posts);\r\n      setBits(bits);\r\n    } else {\r\n      setBits([]);\r\n    }\r\n    setIsLoading(false);\r\n  };\r\n\r\n  // pass into BitList\r\n  return (\r\n    <BitList\r\n      bits={replies ? bits : bits.filter((post) => !post.reply_to)}\r\n      isLoading={isLoading}\r\n    />\r\n  );\r\n};\r\n\r\nexport default UserBitList;\r\n","import React, { useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport User from \"../../../Types/User\";\r\nimport ContextProps from \"../../../Types/ContextProps\";\r\nimport { AccountContext } from \"../../Account\";\r\nimport SuggestedUserFollowButton from \"../../Main/Users/components/SuggestedUserFollowButton\";\r\n\r\nconst UserCard: React.FC<{ user: User }> = ({ user }) => {\r\n  // myHandle to show/hide follow button\r\n  const { myHandle }: ContextProps = useContext(AccountContext);\r\n\r\n  // Numbers for interactions\r\n  return (\r\n    <div className=\"user-card\">\r\n      {/* Poster profile picture */}\r\n      <Link to={`/u/${user.handle}`}>\r\n        <div className=\"bit-pfp\">\r\n          <img\r\n            src={`${process.env.PUBLIC_URL}/placeholder48.png`}\r\n            alt=\"profile pic\"\r\n          />\r\n        </div>\r\n      </Link>\r\n\r\n      <div className=\"user-card-content\">\r\n        {/* Poster info */}\r\n        <Link to={`/u/${user.handle}`}>\r\n          <div className=\"user-card-info\">\r\n            <span className=\"bit-info-displayname\">{user.display_name}</span>\r\n            <span className=\"bit-info-handle\">@{user.handle}</span>\r\n          </div>\r\n        </Link>\r\n\r\n        {/* Follow button */}\r\n        <div\r\n          className=\"user-card-follow\"\r\n          style={{ display: myHandle === user.handle ? \"none\" : \"\" }}\r\n        >\r\n          <SuggestedUserFollowButton\r\n            className=\"user-card-follow-button\"\r\n            handle={user.handle}\r\n            isFollowing={user.isFollowing}\r\n          />\r\n        </div>\r\n\r\n        <Link to={`/u/${user.handle}`}>\r\n          <div className=\"user-card-bio\">{user.bio}</div>\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserCard;\r\n","import React from \"react\";\r\n\r\nimport User from \"../../../Types/User\";\r\nimport UserCard from \"./UserCard\";\r\n\r\nexport interface UserFollowListProps {\r\n  users: Array<User>;\r\n  isLoading: boolean;\r\n}\r\n\r\nconst UserFollowList: React.FC<UserFollowListProps> = ({\r\n  users,\r\n  isLoading,\r\n}) => {\r\n  return (\r\n    <>\r\n      {isLoading ? (\r\n        <div className=\"userlist-loader\">\r\n          <div className=\"loader\" />\r\n        </div>\r\n      ) : users.length > 0 ? (\r\n        users.map((user) => <UserCard user={user} key={user.handle} />)\r\n      ) : (\r\n        <div className=\"no-users\">No users found</div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UserFollowList;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { AccountContext } from \"../../Account\";\r\nimport User from \"../../../Types/User\";\r\nimport UserFollowList from \"./UserFollowList\";\r\nimport ContextProps from \"../../../Types/ContextProps\";\r\n\r\nexport interface UserFollowingProps {}\r\n\r\nconst UserFollowing: React.FC<UserFollowingProps> = () => {\r\n  // fetch list of bits\r\n  const [users, setUsers] = useState<Array<User>>([]);\r\n  const [isLoading, setIsLoading] = useState<boolean>(false);\r\n\r\n  const { API_URL, currHandle, myHandle }: ContextProps =\r\n    useContext(AccountContext);\r\n\r\n  // Fetch posts every time the user changes\r\n  useEffect(() => {\r\n    fetchUsers();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [currHandle]);\r\n\r\n  const fetchUsers = async () => {\r\n    setIsLoading(true);\r\n    const data = await fetch(\r\n      `${API_URL}/users/following?handle=${currHandle}&myHandle=${myHandle}`\r\n    );\r\n    const resp: any = await data.json();\r\n\r\n    if (resp.code === \"getSuccess\") {\r\n      const userlist: Array<User> = JSON.parse(resp.users);\r\n      setUsers(userlist);\r\n    } else {\r\n      setUsers([]);\r\n    }\r\n    setIsLoading(false);\r\n  };\r\n\r\n  return <UserFollowList users={users} isLoading={isLoading} />;\r\n};\r\n\r\nexport default UserFollowing;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { AccountContext } from \"../../Account\";\r\nimport UserFollowList from \"./UserFollowList\";\r\nimport User from \"../../../Types/User\";\r\nimport ContextProps from \"../../../Types/ContextProps\";\r\n\r\nexport interface UserFollowingProps {}\r\n\r\nconst UserFollowers: React.FC<UserFollowingProps> = () => {\r\n  // fetch list of bits\r\n  const [users, setUsers] = useState<Array<User>>([]);\r\n  const [isLoading, setIsLoading] = useState<boolean>(false);\r\n\r\n  const { API_URL, currHandle, myHandle }: ContextProps =\r\n    useContext(AccountContext);\r\n\r\n  // Fetch posts every time the user changes\r\n  useEffect(() => {\r\n    fetchUsers();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [currHandle]);\r\n\r\n  const fetchUsers = async () => {\r\n    setIsLoading(true);\r\n    const data = await fetch(\r\n      `${API_URL}/users/followers?handle=${currHandle}&myHandle=${myHandle}`\r\n    );\r\n    const resp: any = await data.json();\r\n\r\n    if (resp.code === \"getSuccess\") {\r\n      const userlist: Array<User> = JSON.parse(resp.users);\r\n      setUsers(userlist);\r\n    } else {\r\n      setUsers([]);\r\n    }\r\n    setIsLoading(false);\r\n  };\r\n\r\n  return <UserFollowList users={users} isLoading={isLoading} />;\r\n};\r\n\r\nexport default UserFollowers;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { AccountContext } from \"../Account\";\r\nimport BitList from \"../Main/BitList/BitList\";\r\nimport \"./UserBitList.css\";\r\n\r\nimport BitInfo from \"../../Types/BitInfo\";\r\nimport ContextProps from \"../../Types/ContextProps\";\r\n// interface BitInfo {\r\n//   content: string;\r\n//   dislikes: number;\r\n//   display_name: string;\r\n//   handle: string;\r\n//   index: number;\r\n//   likes: number;\r\n//   post_id: number;\r\n//   post_time: string;\r\n//   replies: number;\r\n//   reply_to: number;\r\n//   reposts: number;\r\n//   status: number;\r\n//   user_id: number;\r\n// }\r\n\r\ninterface Props {}\r\n\r\nconst UserBitList: React.FC<Props> = () => {\r\n  // fetch list of bits\r\n  const [likes, setLikes] = useState<Array<BitInfo>>([]);\r\n  const [isLoading, setIsLoading] = useState<boolean>(false);\r\n\r\n  const { API_URL, currHandle, myHandle }: ContextProps = useContext(\r\n    AccountContext\r\n  );\r\n\r\n  // Fetch posts every time the user changes\r\n  useEffect(() => {\r\n    fetchBits();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [currHandle]);\r\n\r\n  const fetchBits = async () => {\r\n    setIsLoading(true);\r\n    const data = await fetch(\r\n      `${API_URL}/users/posts/likes?handle=${currHandle}&myHandle=${myHandle}`\r\n    );\r\n    const resp: any = await data.json();\r\n\r\n    if (resp.code === \"getSuccess\") {\r\n      const bits: Array<BitInfo> = JSON.parse(resp.posts);\r\n      setLikes(bits);\r\n    } else {\r\n      setLikes([]);\r\n    }\r\n    setIsLoading(false);\r\n  };\r\n\r\n  // pass into BitList\r\n  return <BitList bits={likes} isLoading={isLoading} />;\r\n};\r\n\r\nexport default UserBitList;\r\n","import React from \"react\";\r\nimport \"./UserNotFound.css\";\r\n\r\ninterface Props {\r\n  handle: string;\r\n}\r\n\r\nconst UserNotFound: React.FC<Props> = ({ handle }) => {\r\n  // For if an invalid handle is loaded\r\n\r\n  return (\r\n    <div className=\"user-not-found\">\r\n      User <span className=\"user-not-found-handle\">@{handle}</span> could not be\r\n      found.\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserNotFound;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport { AccountContext } from \"../components/Account\";\r\nimport \"../components/UserPage/UserPage.css\";\r\n\r\nimport UserHeader from \"../components/UserPage/UserHeader\";\r\nimport UserBitList from \"../components/UserPage/UserBitList\";\r\nimport UserFollowing from \"../components/UserPage/components/UserFollowing\";\r\nimport UserFollowers from \"../components/UserPage/components/UserFollowers\";\r\nimport UserLikeList from \"../components/UserPage/UserLikeList\";\r\nimport UserNotFound from \"../components/UserPage/UserNotFound\";\r\n\r\nimport User from \"../Types/User\";\r\nimport ContextProps from \"../Types/ContextProps\";\r\n// interface User {\r\n//   user_id: string;\r\n//   handle?: string;\r\n//   display_name?: string;\r\n//   created_on?: string;\r\n//   bio?: string;\r\n//   follower_count?: number;\r\n//   following_count?: number;\r\n// }\r\n\r\nconst UserPage: React.FC<{}> = () => {\r\n  const [user, setUser] = useState<User>({ handle: \"\" });\r\n  const [isLoading, setIsLoading] = useState<boolean>(false);\r\n  const [listState, setListState] = useState<any>(\r\n    <UserBitList replies={false} />\r\n  );\r\n\r\n  document.title = (user.handle ? \"@\" + user.handle : \"user\") + \" / Bitter\";\r\n\r\n  const {\r\n    API_URL,\r\n    currHandle,\r\n    setCurrHandle,\r\n    myHandle,\r\n    setIsFollowing,\r\n  }: ContextProps = useContext(AccountContext);\r\n\r\n  const handle: string = useLocation().pathname.slice(3);\r\n\r\n  // Database call for user by handle\r\n  const fetchUser = async (handle: string) => {\r\n    setIsLoading(true);\r\n    updatePageState(0);\r\n    // Returns {user_id: ''} if user not found\r\n    const fetchUser = await fetch(\r\n      `${API_URL}/users?handle=${handle}&myHandle=${myHandle}`,\r\n      { method: \"GET\" }\r\n    );\r\n    const resp: any = await fetchUser.json();\r\n    if (resp.code === \"getSuccess\") {\r\n      const user: User = JSON.parse(resp.user);\r\n      setUser(user);\r\n      setCurrHandle(user.handle);\r\n      if (user.isFollowing) setIsFollowing(user.isFollowing);\r\n    } else {\r\n      setUser({ handle: \"\" });\r\n      setCurrHandle(\"\");\r\n    }\r\n    setIsLoading(false);\r\n  };\r\n\r\n  // Load info on mount\r\n  useEffect(() => {\r\n    fetchUser(handle);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [myHandle]);\r\n\r\n  // Update when moving between user pages\r\n  const history = useHistory();\r\n  useEffect(() => {\r\n    return history.listen((location) => {\r\n      fetchUser(location.pathname.slice(3));\r\n    });\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  // }, [history]);\r\n\r\n  // Change view between bits / bits+replies / following / followers / likes\r\n  function updatePageState(stateId: number): void {\r\n    if (stateId === 0) {\r\n      // Posts\r\n      setListState(<UserBitList replies={false} />);\r\n    } else if (stateId === 1) {\r\n      // Posts and replies\r\n      setListState(<UserBitList replies={true} />);\r\n    } else if (stateId === 2) {\r\n      // following list\r\n      setListState(<UserFollowing />);\r\n    } else if (stateId === 3) {\r\n      // followers list\r\n      setListState(<UserFollowers />);\r\n    } else if (stateId === 4) {\r\n      // like list\r\n      setListState(<UserLikeList />);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {isLoading ? (\r\n        <div className=\"user-loader\">\r\n          <div className=\"loader\" />\r\n        </div>\r\n      ) : (\r\n        <div className=\"user-page\">\r\n          {currHandle !== \"\" ? (\r\n            <>\r\n              <UserHeader updatePageState={updatePageState} user={user} />\r\n              {listState}\r\n            </>\r\n          ) : (\r\n            <UserNotFound handle={handle} />\r\n          )}\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UserPage;\r\n","import React from \"react\";\r\nimport \"./BitNotFound.css\";\r\n\r\nconst BitNotFound: React.FC<{}> = () => {\r\n  // For if post not found\r\n\r\n  return <div className=\"user-not-found\">Post could not be found.</div>;\r\n};\r\n\r\nexport default BitNotFound;\r\n","import React from \"react\";\r\nimport BitInfo from \"../../Types/BitInfo\";\r\nimport Bit from \"../Main/BitList/Bit\";\r\n\r\nexport interface PreThreadProps {\r\n  bit: BitInfo;\r\n}\r\n\r\nconst PreThread: React.FC<PreThreadProps> = ({ bit }) => {\r\n  if (typeof bit.pre_thread === \"undefined\") {\r\n    return <></>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"prethread\">\r\n      {bit.pre_thread.map((prebit) => (\r\n        <Bit {...prebit} classes=\"prethread-bit\" key={prebit.post_id} />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PreThread;\r\n","import React from \"react\";\r\nimport BitInfo from \"../../Types/BitInfo\";\r\nimport Bit from \"../Main/BitList/Bit\";\r\n\r\nconst ReplyThread: React.FC<{ thread: Array<BitInfo> }> = ({ thread }) => {\r\n  return (\r\n    <div className=\"reply-thread\">\r\n      {thread.map((reply) => (\r\n        <Bit {...reply} classes=\"reply-thread-bit\" key={reply.post_id} />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ReplyThread;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport BitNotFound from \"../components/BitPage/BitNotFound\";\r\nimport BitPreThread from \"../components/BitPage/PreThreadList\";\r\nimport \"../components/BitPage/BitPage.css\";\r\nimport { AccountContext } from \"../components/Account\";\r\nimport Bit from \"../components/Main/BitList/Bit\";\r\n\r\nimport BitInfo from \"../Types/BitInfo\";\r\nimport ContextProps from \"../Types/ContextProps\";\r\nimport ReplyThread from \"../components/BitPage/ReplyThread\";\r\n\r\nconst BitPage: React.FC<{}> = () => {\r\n  const emptyPost: BitInfo = {\r\n    post_id: \"\",\r\n    handle: \"\",\r\n    post_time: \"\",\r\n    content: \"\",\r\n    dislikes: 0,\r\n    likes: 0,\r\n    replies: 0,\r\n    reposts: 0,\r\n  };\r\n  const [post, setPost] = useState<BitInfo>(emptyPost);\r\n  const [isLoading, setIsLoading] = useState<boolean>(false);\r\n  const [post_id, setPostId] = useState<string>(\r\n    useLocation().pathname.slice(3)\r\n  );\r\n\r\n  document.title = (post.handle ? \"@\" + post.handle : \"post\") + \" / Bitter\";\r\n\r\n  const { API_URL, myHandle }: ContextProps = useContext(AccountContext);\r\n\r\n  // Database call for post by post_id\r\n  const fetchPost = async (post_id: string) => {\r\n    setIsLoading(true);\r\n\r\n    // Returns {post_id: '', handle: ''} if post not found\r\n    const data = await fetch(\r\n      `${API_URL}/bits?post_id=${post_id}&handle=${myHandle}`\r\n    );\r\n    const resp: any = await data.json();\r\n    if (resp.code === \"getSuccess\") {\r\n      const post: BitInfo = JSON.parse(resp.post);\r\n      setPost(post);\r\n    } else {\r\n      setPost(emptyPost);\r\n    }\r\n\r\n    setIsLoading(false);\r\n    var elmnt = document.getElementsByClassName(\"thread-main-bit\")[0];\r\n    if (elmnt) elmnt.scrollIntoView();\r\n  };\r\n\r\n  // Load post on mount\r\n  useEffect(() => {\r\n    fetchPost(post_id);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [post_id, myHandle]);\r\n\r\n  // Update when moving between post pages\r\n  const history = useHistory();\r\n  useEffect(() => {\r\n    return history.listen((location) => {\r\n      setPostId(location.pathname.slice(3));\r\n    });\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      {isLoading ? (\r\n        <div className=\"user-loader\">\r\n          <div className=\"loader\" />\r\n        </div>\r\n      ) : (\r\n        <div className=\"bit-page\">\r\n          {post.post_id !== \"\" ? (\r\n            <>\r\n              <BitPreThread bit={post} />\r\n              <Bit {...post} classes=\"thread-main-bit\" />\r\n              {typeof post.reply_threads === \"undefined\" ? (\r\n                <></>\r\n              ) : (\r\n                post.reply_threads.map((thread) => {\r\n                  return (\r\n                    <ReplyThread thread={thread} key={thread[0].post_id} />\r\n                  );\r\n                })\r\n              )}\r\n            </>\r\n          ) : (\r\n            <BitNotFound />\r\n          )}\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default BitPage;\r\n","import React, { useState } from \"react\";\r\nimport Popup from \"reactjs-popup\";\r\nimport Styled from \"styled-components\";\r\n\r\nexport interface ChangeEmailConfirmationProps {\r\n  onSubmit: (e: any) => Promise<void>;\r\n  newEmail: string;\r\n}\r\n\r\nconst StyledPopup = Styled(Popup)`\r\n  &-content {\r\n    width: 300px;\r\n    padding: 40px;\r\n    text-align: center;\r\n    transform: translateY(-160px)\r\n  }\r\n`;\r\n\r\nconst ChangeEmailConfirmation: React.FC<ChangeEmailConfirmationProps> = ({\r\n  onSubmit,\r\n  newEmail,\r\n}) => {\r\n  const [open, setOpen] = useState<boolean>(false);\r\n  const closeModal = () => setOpen(false);\r\n\r\n  return (\r\n    <>\r\n      <button\r\n        onClick={() => {\r\n          if (newEmail.length > 0) {\r\n            setOpen(true);\r\n          }\r\n        }}\r\n      >\r\n        Submit\r\n      </button>\r\n\r\n      <StyledPopup open={open} modal onClose={closeModal}>\r\n        <div style={{ marginBottom: \"30px\" }}>\r\n          Are you sure you want to change your email to <b>{newEmail}</b>?\r\n        </div>\r\n        <button\r\n          onClick={async (e) => {\r\n            await onSubmit(e);\r\n            closeModal();\r\n          }}\r\n          type=\"submit\"\r\n          className=\"button-primary\"\r\n        >\r\n          Change email\r\n        </button>\r\n        <br />\r\n        <button onClick={closeModal} style={{ marginTop: \"10px\" }}>\r\n          Cancel\r\n        </button>\r\n      </StyledPopup>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ChangeEmailConfirmation;\r\n","import { CognitoUserAttribute } from \"amazon-cognito-identity-js\";\r\nimport React, { useContext, useState } from \"react\";\r\nimport ContextProps from \"../../Types/ContextProps\";\r\nimport { AccountContext } from \"../Account\";\r\nimport ChangeEmailConfirmation from \"./ChangeEmailConfirmation\";\r\n\r\nexport interface ChangeEmailProps {}\r\n\r\nconst ChangeEmail: React.FC<ChangeEmailProps> = () => {\r\n  const [newEmail, setNewEmail] = useState<string>(\"\");\r\n  const [password, setPassword] = useState<string>(\"\");\r\n\r\n  const [emailExists, setEmailExists] = useState<boolean>(false);\r\n  const [isPasswordCorrect, setIsPasswordCorrect] = useState<boolean>(true);\r\n  const [hasSucceeded, setHasSucceeded] = useState<boolean>(false);\r\n\r\n  const { authenticate, getSession, isEmailUsed }: ContextProps = useContext(\r\n    AccountContext\r\n  );\r\n\r\n  const onSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n\r\n    // Check if email is already used\r\n    if (await isEmailUsed(newEmail)) {\r\n      setEmailExists(true);\r\n      return;\r\n    }\r\n\r\n    // check valid email (done by type = \"email\" ?)\r\n    getSession()\r\n      .then(({ user }) => {\r\n        // Check password\r\n        authenticate(user.username, password)\r\n          .then(() => {\r\n            const attributes = [\r\n              new CognitoUserAttribute({ Name: \"email\", Value: newEmail }),\r\n            ];\r\n\r\n            user.updateAttributes(\r\n              attributes,\r\n              (err: string, results: string) => {\r\n                if (err) {\r\n                  console.error(err);\r\n                } else {\r\n                  setHasSucceeded(true);\r\n                }\r\n                console.log(results);\r\n              }\r\n            );\r\n          })\r\n          .catch((err) => {\r\n            switch (err.code) {\r\n              case \"NotAuthorizedException\":\r\n                // Incorrect password\r\n                setIsPasswordCorrect(false);\r\n                break;\r\n            }\r\n          });\r\n      })\r\n      .catch((err) => console.error(err));\r\n\r\n    // check password\r\n    // highlight input if incorrect + error message\r\n    // send verification to new email\r\n  };\r\n\r\n  return (\r\n    <div className=\"settings-field\">\r\n      <div className=\"settings-header\">Change email</div>\r\n      <form onSubmit={(e) => e.preventDefault()}>\r\n        <div className=\"settings-input-field\">\r\n          <div className=\"settings-input-label\">New email:</div>\r\n          <div className=\"settings-input-wrapper\">\r\n            <input\r\n              value={newEmail}\r\n              onChange={(event) => {\r\n                setEmailExists(false);\r\n                setNewEmail(event.target.value);\r\n              }}\r\n              type=\"email\"\r\n              className={emailExists ? \"invalid\" : \"\"}\r\n            />\r\n\r\n            {/* Email already exists */}\r\n            {emailExists ? (\r\n              <div className=\"form-error-message\">\r\n                An account with this email already exists\r\n              </div>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"settings-input-field\">\r\n          <div className=\"settings-input-label\">Password:</div>\r\n          <div className=\"settings-input-wrapper\">\r\n            <input\r\n              value={password}\r\n              onChange={(event) => {\r\n                setIsPasswordCorrect(true);\r\n                setPassword(event.target.value);\r\n              }}\r\n              type=\"password\"\r\n              className={isPasswordCorrect ? \"\" : \"invalid\"}\r\n            />\r\n\r\n            {/* Incorrect password */}\r\n            {isPasswordCorrect ? (\r\n              \"\"\r\n            ) : (\r\n              <div className=\"form-error-message\">Incorrect password</div>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        <ChangeEmailConfirmation onSubmit={onSubmit} newEmail={newEmail} />\r\n      </form>\r\n\r\n      {/* Success message */}\r\n      {hasSucceeded ? (\r\n        <div className=\"form-success-message\">\r\n          Success! Please check your email to see a meaningless verification\r\n          code\r\n        </div>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n      <hr />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChangeEmail;\r\n","import React, { useState } from \"react\";\r\nimport Popup from \"reactjs-popup\";\r\nimport Styled from \"styled-components\";\r\n\r\nexport interface ChangeEmailConfirmationProps {\r\n  onSubmit: (e: any) => Promise<void>;\r\n}\r\n\r\nconst StyledPopup = Styled(Popup)`\r\n  &-content {\r\n    width: 300px;\r\n    padding: 40px;\r\n    text-align: center;\r\n    font-size: 20px;\r\n    transform: translateY(-160px)\r\n  }\r\n  &-content button {\r\n    font-size: 12px;\r\n    line-height: 28px;\r\n    height: 28px;\r\n  }\r\n`;\r\n\r\nconst ChangePasswordConfirmation: React.FC<ChangeEmailConfirmationProps> = ({\r\n  onSubmit,\r\n}) => {\r\n  const [open, setOpen] = useState<boolean>(false);\r\n  const closeModal = () => setOpen(false);\r\n\r\n  return (\r\n    <>\r\n      <button onClick={() => setOpen(true)}>Submit</button>\r\n\r\n      <StyledPopup open={open} modal onClose={closeModal}>\r\n        <div style={{ marginBottom: \"30px\" }}>\r\n          Are you sure you want to change your password?\r\n        </div>\r\n        <button\r\n          onClick={async (e) => {\r\n            await onSubmit(e);\r\n            closeModal();\r\n          }}\r\n          type=\"submit\"\r\n          className=\"button-primary\"\r\n        >\r\n          Change password\r\n        </button>\r\n        <br />\r\n        <button onClick={closeModal} style={{ marginTop: \"10px\" }}>\r\n          Cancel\r\n        </button>\r\n      </StyledPopup>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ChangePasswordConfirmation;\r\n","import React, { useContext, useState } from \"react\";\r\nimport ContextProps from \"../../Types/ContextProps\";\r\nimport { AccountContext } from \"../Account\";\r\nimport ChangePasswordConfirmation from \"./ChangePasswordConfirmation\";\r\n\r\nexport interface ChangePasswordProps {}\r\n\r\nconst ChangePassword: React.FC<ChangePasswordProps> = () => {\r\n  const [password, setPassword] = useState<string>(\"\");\r\n  const [newPassword, setNewPassword] = useState<string>(\"\");\r\n  const [confirmNewPassword, setConfirmNewPassword] = useState<string>(\"\");\r\n\r\n  const [isNewPasswordValid, setIsNewPasswordValid] = useState<boolean>(true);\r\n  const [passwordsMismatch, setPasswordsMismatch] = useState<boolean>(false);\r\n  const [correctOldPassword, setCorrectOldPassword] = useState<boolean>(true);\r\n\r\n  const [hasSucceeded, setHasSucceeded] = useState<boolean>(false);\r\n\r\n  const { getSession, authenticate }: ContextProps = useContext(AccountContext);\r\n\r\n  const checkIsPasswordValid = (s: string) => {\r\n    if (s.length < 8) return false;\r\n    return (\r\n      /[a-z]/.test(s) &&\r\n      /[A-Z]/.test(s) &&\r\n      /[0-9]/.test(s) &&\r\n      /[-=+^$*.[\\]{}()?\"!@#%&/\\\\,><':;|_~`]/.test(s)\r\n    );\r\n  };\r\n\r\n  const onSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n\r\n    // Check new password is valid\r\n    if (!checkIsPasswordValid(newPassword)) {\r\n      console.log(\"invalid password\");\r\n      setIsNewPasswordValid(false);\r\n      setHasSucceeded(false);\r\n      return;\r\n    }\r\n\r\n    // Check password match\r\n    if (newPassword !== confirmNewPassword) {\r\n      setPasswordsMismatch(true);\r\n      setHasSucceeded(false);\r\n      return;\r\n    }\r\n\r\n    // Authenticate and change\r\n    getSession()\r\n      .then(({ user }: { user: any }) => {\r\n        // Check login details\r\n        authenticate(user.username, password)\r\n          .then(() => {\r\n            //Change password\r\n            user.changePassword(\r\n              password,\r\n              newPassword,\r\n              (err: any, result: any) => {\r\n                if (err) console.error(err);\r\n                if (result === \"SUCCESS\") {\r\n                  setHasSucceeded(true);\r\n                }\r\n              }\r\n            );\r\n          })\r\n          .catch((err: any) => {\r\n            const code = err.code;\r\n            switch (code) {\r\n              case \"NotAuthorizedException\":\r\n                setCorrectOldPassword(false);\r\n                break;\r\n              default:\r\n                console.error(err);\r\n            }\r\n            setHasSucceeded(false);\r\n          });\r\n      })\r\n      .catch((err: any) => {\r\n        console.error(err);\r\n      });\r\n    // check password\r\n    // highlight input if incorrect + error message\r\n    // send verification to new email\r\n  };\r\n\r\n  return (\r\n    <div className=\"settings-field\">\r\n      <div className=\"settings-header\">Current password:</div>\r\n      <form onSubmit={onSubmit}>\r\n        <div className=\"settings-input-field\">\r\n          <div className=\"settings-input-label\">Password:</div>\r\n          <div className=\"settings-input-wrapper\">\r\n            <input\r\n              value={password}\r\n              onChange={(event) => {\r\n                setPassword(event.target.value);\r\n                setCorrectOldPassword(true);\r\n              }}\r\n              type=\"password\"\r\n              className={!correctOldPassword ? \"invalid\" : \"\"}\r\n            />\r\n\r\n            {/* Incorrect (old) password */}\r\n            {!correctOldPassword ? (\r\n              <div className=\"form-error-message\">Incorrect password</div>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"settings-input-field\">\r\n          <div className=\"settings-input-label\">New password:</div>\r\n          <div className=\"settings-input-wrapper\">\r\n            <input\r\n              value={newPassword}\r\n              onChange={(event) => {\r\n                setNewPassword(event.target.value);\r\n                setPasswordsMismatch(false);\r\n                setIsNewPasswordValid(true);\r\n              }}\r\n              type=\"password\"\r\n              className={\r\n                !isNewPasswordValid || passwordsMismatch ? \"invalid\" : \"\"\r\n              }\r\n            />\r\n\r\n            {/* Invalid password */}\r\n            {!isNewPasswordValid ? (\r\n              <div className=\"form-error-message\">Invalid password</div>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"settings-input-field\">\r\n          <div className=\"settings-input-label\">Confirm password:</div>\r\n          <div className=\"settings-input-wrapper\">\r\n            <input\r\n              value={confirmNewPassword}\r\n              onChange={(event) => {\r\n                setConfirmNewPassword(event.target.value);\r\n                setPasswordsMismatch(false);\r\n              }}\r\n              type=\"password\"\r\n              className={passwordsMismatch ? \"invalid\" : \"\"}\r\n            />\r\n\r\n            {/* Passwords don't match */}\r\n            {passwordsMismatch ? (\r\n              <div className=\"form-error-message\">\r\n                ! Passwords do not match !\r\n              </div>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        <ChangePasswordConfirmation onSubmit={onSubmit} />\r\n\r\n        {/* Success message */}\r\n        <div\r\n          style={{\r\n            fontSize: \"16px\",\r\n            display: hasSucceeded ? \"\" : \"none\",\r\n          }}\r\n          className=\"form-success-message\"\r\n        >\r\n          Password has been successfully changed\r\n        </div>\r\n      </form>\r\n      <hr />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChangePassword;\r\n","import React, { useState } from \"react\";\r\nimport Popup from \"reactjs-popup\";\r\nimport Styled from \"styled-components\";\r\n\r\nexport interface DeleteAccountConfirmationProps {\r\n  onSubmit: (e: any) => Promise<void>;\r\n  active: boolean;\r\n}\r\n\r\nconst StyledPopup = Styled(Popup)`\r\n  &-content {\r\n    width: 300px;\r\n    padding: 40px;\r\n    text-align: center;\r\n    transform: translateY(-160px);\r\n    font-size: 20px;\r\n  }\r\n  &-content button {\r\n    font-size: 12px;\r\n    line-height: 28px;\r\n    height: 28px;\r\n  }\r\n`;\r\n\r\nconst DeleteAccountConfirmation: React.FC<DeleteAccountConfirmationProps> = ({\r\n  onSubmit,\r\n  active,\r\n}) => {\r\n  const [open, setOpen] = useState<boolean>(false);\r\n  const closeModal = () => setOpen(false);\r\n\r\n  return (\r\n    <>\r\n      <button\r\n        onClick={() => {\r\n          if (active) {\r\n            setOpen(true);\r\n          }\r\n        }}\r\n        className=\"button-primary\"\r\n        style={{\r\n          backgroundColor: \"#d3455b\",\r\n          borderColor: \"#d3455b\",\r\n          marginBottom: \"10px\",\r\n        }}\r\n      >\r\n        Delete account\r\n      </button>\r\n\r\n      <StyledPopup open={open} modal onClose={closeModal}>\r\n        <div style={{ marginBottom: \"30px\" }}>\r\n          Are you sure you want to delete your account?\r\n        </div>\r\n        <button\r\n          onClick={async (e) => {\r\n            await onSubmit(e);\r\n            closeModal();\r\n          }}\r\n          type=\"submit\"\r\n          className=\"button-primary\"\r\n          style={{\r\n            backgroundColor: \"#d3455b\",\r\n            borderColor: \"#d3455b\",\r\n          }}\r\n        >\r\n          Delete account\r\n        </button>\r\n        <br />\r\n        <button\r\n          className=\"button-primary\"\r\n          onClick={closeModal}\r\n          style={{ marginTop: \"10px\" }}\r\n        >\r\n          Cancel\r\n        </button>\r\n      </StyledPopup>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default DeleteAccountConfirmation;\r\n","import React, { useContext, useState } from \"react\";\r\nimport { useHistory } from \"react-router\";\r\nimport ContextProps from \"../../Types/ContextProps\";\r\nimport { AccountContext } from \"../Account\";\r\nimport DeleteAccountConfirmation from \"./DeleteAccountConfirmation\";\r\n\r\nexport interface ChangeEmailProps {}\r\n\r\nconst ChangeEmail: React.FC<ChangeEmailProps> = () => {\r\n  const [password, setPassword] = useState<string>(\"\");\r\n  const [deleteConfirmation, setDeleteConfirmation] = useState<string>(\"\");\r\n\r\n  const [isPasswordCorrect, setIsPasswordCorrect] = useState<boolean>(true);\r\n  const [isConfirmationCorrect, setIsConfirmationCorrect] =\r\n    useState<boolean>(true);\r\n\r\n  const [errorOccurred, setErrorOccurred] = useState<boolean>(false);\r\n  const [isLoading, setIsLoading] = useState<boolean>(false);\r\n\r\n  const { authenticate, getSession, logout, API_URL, myHandle }: ContextProps =\r\n    useContext(AccountContext);\r\n\r\n  const history = useHistory();\r\n  const onSubmit = async (e: any) => {\r\n    e.preventDefault();\r\n    setIsLoading(true);\r\n\r\n    // Check deleteConfirmation is correct\r\n    if (deleteConfirmation !== `delete-me-${myHandle}`) {\r\n      setIsConfirmationCorrect(false);\r\n      setIsLoading(false);\r\n      return;\r\n    }\r\n\r\n    // Check password\r\n    getSession()\r\n      .then(async ({ user, headers, accessToken }) => {\r\n        // Check login details\r\n        authenticate(user.username, password)\r\n          .then(async () => {\r\n            // Setup request\r\n            headers[\"Content-Type\"] = \"application/json\";\r\n            var requestOptions = {\r\n              headers,\r\n              method: \"DELETE\",\r\n            };\r\n\r\n            // Call API (delete from pool and database)\r\n            await fetch(\r\n              `${API_URL}/users?accessToken=${accessToken.jwtToken}`,\r\n              requestOptions\r\n            )\r\n              .then((response) => response.text())\r\n              .then((result) => {\r\n                const resultJSON = JSON.parse(result);\r\n\r\n                // success/failure handling\r\n                if (resultJSON.code === \"deleteSuccess\") {\r\n                  // Redirect to /home\r\n                  logout();\r\n                  history.push(`/home`);\r\n                } else {\r\n                  // Error message\r\n                  setErrorOccurred(true);\r\n                  setIsLoading(false);\r\n                  console.error(resultJSON);\r\n                }\r\n              })\r\n              .catch((err) => {\r\n                console.log(\"Error:\", err);\r\n                setErrorOccurred(true);\r\n                setIsLoading(false);\r\n              });\r\n          })\r\n          .catch((err: any) => {\r\n            const code = err.code;\r\n            switch (code) {\r\n              case \"NotAuthorizedException\":\r\n                setIsPasswordCorrect(false);\r\n                break;\r\n              default:\r\n                console.error(err);\r\n                setIsLoading(false);\r\n            }\r\n          });\r\n      })\r\n      .catch((err: any) => {\r\n        console.error(err);\r\n        setIsLoading(false);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"settings-field\">\r\n      {isLoading ? (\r\n        <div className=\"loader\" />\r\n      ) : (\r\n        <>\r\n          <div className=\"settings-header\">Delete account</div>\r\n          <form onSubmit={(e) => e.preventDefault()}>\r\n            <div className=\"settings-input-field\">\r\n              <div className=\"settings-input-label\">Password:</div>\r\n              <div className=\"settings-input-wrapper\">\r\n                <input\r\n                  value={password}\r\n                  onChange={(event) => {\r\n                    setIsPasswordCorrect(true);\r\n                    setPassword(event.target.value);\r\n                    setErrorOccurred(false);\r\n                  }}\r\n                  type=\"password\"\r\n                  className={!isPasswordCorrect ? \"invalid\" : \"\"}\r\n                />\r\n\r\n                {/* Incorrect password */}\r\n                {!isPasswordCorrect ? (\r\n                  <div className=\"form-error-message\">Incorrect password</div>\r\n                ) : (\r\n                  \"\"\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"delete-account-label\">\r\n              Type <code>delete-me-{myHandle}</code> below to confirm your\r\n              decision\r\n            </div>\r\n\r\n            <div className=\"settings-input-field\">\r\n              <div className=\"settings-input-label\">Confirmation:</div>\r\n              <div className=\"settings-input-wrapper\">\r\n                <input\r\n                  value={deleteConfirmation}\r\n                  onChange={(event) => {\r\n                    setIsConfirmationCorrect(true);\r\n                    setDeleteConfirmation(event.target.value);\r\n                    setErrorOccurred(false);\r\n                  }}\r\n                  type=\"text\"\r\n                  className={!isConfirmationCorrect ? \"invalid\" : \"\"}\r\n                />\r\n\r\n                {/* Incorrect confirmation text */}\r\n                {!isConfirmationCorrect ? (\r\n                  <div className=\"form-error-message\">\r\n                    Incorrect confirmation message\r\n                  </div>\r\n                ) : (\r\n                  \"\"\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            <DeleteAccountConfirmation\r\n              onSubmit={onSubmit}\r\n              active={password.length > 0}\r\n            />\r\n\r\n            {/* Error message */}\r\n            {errorOccurred ? (\r\n              <div className=\"form-error-message\">An error occurred.</div>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n          </form>\r\n        </>\r\n      )}\r\n\r\n      <hr />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChangeEmail;\r\n","import React, { useContext, useState } from \"react\";\r\nimport { useHistory } from \"react-router\";\r\nimport Popup from \"reactjs-popup\";\r\nimport Styled from \"styled-components\";\r\nimport ContextProps from \"../../Types/ContextProps\";\r\nimport { AccountContext } from \"../Account\";\r\n\r\nexport interface LogoutButtonProps {}\r\n\r\nconst StyledPopup = Styled(Popup)`\r\n&-content {\r\n  width: 250px;\r\n  padding: 40px;\r\n  text-align: center;\r\n  font-size: 18px;\r\n  transform: translateY(-160px)\r\n}\r\n&-content button {\r\n  font-size: 12px;\r\n  line-height: 28px;\r\n  height: 28px;\r\n}\r\n`;\r\n\r\nconst LogoutButton: React.FC<LogoutButtonProps> = () => {\r\n  // Confirmation popup\r\n  const [open, setOpen] = useState<boolean>(false);\r\n  const closeModal = () => setOpen(false);\r\n\r\n  const { logout }: ContextProps = useContext(AccountContext);\r\n  const history = useHistory();\r\n  const onClick = (e: any) => {\r\n    e.preventDefault();\r\n\r\n    // Log out\r\n    logout();\r\n\r\n    // Redirect to home page\r\n    history.push(`/home`);\r\n  };\r\n\r\n  return (\r\n    <div id=\"logout-button\">\r\n      <button className=\"button-primary\" onClick={() => setOpen(true)}>\r\n        Logout\r\n      </button>\r\n\r\n      {/* Confirmation popup */}\r\n      <StyledPopup open={open} modal onClose={closeModal}>\r\n        <div style={{ marginBottom: \"30px\" }}>\r\n          Are you sure you want to logout?\r\n        </div>\r\n        <button onClick={onClick} type=\"submit\" className=\"button-primary\">\r\n          Logout\r\n        </button>\r\n        <br />\r\n        <button onClick={closeModal} style={{ marginTop: \"10px\" }}>\r\n          Cancel\r\n        </button>\r\n      </StyledPopup>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LogoutButton;\r\n","import React from \"react\";\r\nimport \"../components/Settings/Settings.css\";\r\nimport ChangeEmail from \"../components/Settings/ChangeEmail\";\r\nimport ChangePassword from \"../components/Settings/ChangePassword\";\r\nimport DeleteAccount from \"../components/Settings/DeleteAccount\";\r\nimport LogoutButton from \"../components/Settings/LogoutButton\";\r\n\r\n// Confirmation popup styles\r\nimport \"reactjs-popup/dist/index.css\";\r\n\r\nconst Settings: React.FC<{}> = () => {\r\n  document.title = \"Settings / Bitter\";\r\n\r\n  return (\r\n    <div className=\"settings\">\r\n      <div className=\"settings-title\">Settings</div>\r\n      <ChangeEmail />\r\n      <ChangePassword />\r\n      <DeleteAccount />\r\n      <LogoutButton />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Settings;\r\n","import React, { useContext, useState } from \"react\";\r\nimport { AccountContext } from \"../components/Account\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./Login.css\";\r\nimport { CognitoUserSession } from \"amazon-cognito-identity-js\";\r\nimport ContextProps from \"../Types/ContextProps\";\r\n\r\ninterface LoginProps {\r\n  setMyHandle: React.Dispatch<React.SetStateAction<string>>;\r\n}\r\n\r\nconst Login: React.FC<LoginProps> = ({ setMyHandle }) => {\r\n  document.title = \"Login / Bitter\";\r\n\r\n  const [username, setUsername] = useState<string>(\"\");\r\n  const [password, setPassword] = useState<string>(\"\");\r\n\r\n  const [emailNotVerified, setEmailNotVerified] = useState<boolean>(false);\r\n  const [invalidLoginDetails, setInvalidLoginDetails] = useState<boolean>(\r\n    false\r\n  );\r\n\r\n  const [errorOccurred, setErrorOccurred] = useState<boolean>(false);\r\n\r\n  const { authenticate, setIsLoggedIn, setIsAdmin }: ContextProps = useContext(\r\n    AccountContext\r\n  );\r\n\r\n  const onSubmit = (event: React.FormEvent<HTMLFormElement>) => {\r\n    event.preventDefault();\r\n\r\n    authenticate(username, password)\r\n      .then((data: CognitoUserSession) => {\r\n        console.log(\"Logged in!\");\r\n        setMyHandle(data.getIdToken().payload[\"cognito:username\"]);\r\n        if (data.getIdToken().payload[\"custom:role\"] === \"admin\")\r\n          setIsAdmin(true);\r\n        setIsLoggedIn(true);\r\n      })\r\n      .catch((err: any) => {\r\n        const code: string = err.code;\r\n        switch (code) {\r\n          case \"UserNotConfirmedException\":\r\n            console.error(\"Email not verified\");\r\n            setEmailNotVerified(true);\r\n            break;\r\n          case \"NotAuthorizedException\":\r\n            console.error(\"Incorrect username or password\");\r\n            setInvalidLoginDetails(true);\r\n            break;\r\n          default:\r\n            console.error(\"Failed to login!\", err);\r\n            setErrorOccurred(true);\r\n        }\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"login\">\r\n      <div className=\"login-title\">Login</div>\r\n\r\n      <form onSubmit={onSubmit}>\r\n        <div className=\"login-input-field\">\r\n          <div className=\"login-input-label\">Email / Handle:</div>\r\n          <input\r\n            value={username}\r\n            onChange={(event) => {\r\n              setEmailNotVerified(false);\r\n              setInvalidLoginDetails(false);\r\n              setUsername(event.target.value);\r\n              setErrorOccurred(false);\r\n            }}\r\n            type=\"text\"\r\n            className={emailNotVerified || invalidLoginDetails ? \"invalid\" : \"\"}\r\n          />\r\n\r\n          {/* Account not verified */}\r\n          {emailNotVerified ? (\r\n            <div className=\"form-error-message\">\r\n              You need to verify your email before logging in\r\n            </div>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"login-input-field\">\r\n          <div className=\"login-input-label\">Password:</div>\r\n          <input\r\n            value={password}\r\n            onChange={(event) => {\r\n              setInvalidLoginDetails(false);\r\n              setPassword(event.target.value);\r\n              setErrorOccurred(false);\r\n            }}\r\n            type=\"password\"\r\n            className={invalidLoginDetails ? \"invalid\" : \"\"}\r\n          />\r\n\r\n          {/* Invalid login details */}\r\n          {invalidLoginDetails ? (\r\n            <div className=\"form-error-message\">\r\n              Incorrect username or password\r\n            </div>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n        </div>\r\n\r\n        <button type=\"submit\">Submit</button>\r\n        <div id=\"login-register-link\">\r\n          <Link to=\"/register\">Create an account</Link>\r\n        </div>\r\n\r\n        {/* Error message */}\r\n        {errorOccurred ? (\r\n          <div className=\"form-error-message\">An error occurred.</div>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import { CognitoUserAttribute } from \"amazon-cognito-identity-js\";\r\nimport React, { useContext, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { AccountContext } from \"../components/Account\";\r\nimport ContextProps from \"../Types/ContextProps\";\r\nimport UserPool from \"../UserPool\";\r\nimport \"./Register.css\";\r\n\r\nconst Register: React.FC<{}> = () => {\r\n  document.title = \"Register / Bitter\";\r\n\r\n  const [username, setUsername] = useState<string>(\"\");\r\n  const [email, setEmail] = useState<string>(\"\");\r\n  const [password, setPassword] = useState<string>(\"\");\r\n  const [confirmPassword, setConfirmPassword] = useState<string>(\"\");\r\n\r\n  const [isUsernameEmpty, setIsUsernameEmpty] = useState<boolean>(false);\r\n  const [isUsernameTooLong, setIsUsernameTooLong] = useState<boolean>(false);\r\n  const [isEmailEmpty, setIsEmailEmpty] = useState<boolean>(false);\r\n\r\n  const [usernameExists, setUsernameExists] = useState<boolean>(false);\r\n  const [emailExists, setEmailExists] = useState<boolean>(false);\r\n  const [passwordsMismatch, setPasswordsMismatch] = useState<boolean>(false);\r\n\r\n  const [isUsernameValid, setIsUsernameValid] = useState<boolean>(true);\r\n  const [isEmailValid, setIsEmailValid] = useState<boolean>(true);\r\n  const [isPasswordValid, setIsPasswordValid] = useState<boolean>(true);\r\n\r\n  const [hasSucceeded, setHasSucceeded] = useState<boolean>(false);\r\n  const [errorOccurred, setErrorOccurred] = useState<boolean>(false);\r\n\r\n  const { isEmailUsed }: ContextProps = useContext(AccountContext);\r\n\r\n  const onSubmit = async (event: React.FormEvent<HTMLFormElement>) => {\r\n    event.preventDefault();\r\n\r\n    // Check fields not empty and passwords match\r\n    if (areFieldsValid()) {\r\n      console.log(\"Empty fields!\");\r\n      return;\r\n    }\r\n\r\n    // Check if email exists\r\n    if (await isEmailUsed(email)) {\r\n      setEmailExists(true);\r\n      return;\r\n    }\r\n\r\n    // Register\r\n    UserPool.signUp(\r\n      username,\r\n      password,\r\n      [new CognitoUserAttribute({ Name: \"email\", Value: email })],\r\n      [],\r\n      (err: any, data) => {\r\n        if (err) {\r\n          const code = err.code;\r\n          console.log(err);\r\n\r\n          switch (code) {\r\n            case \"UsernameExistsException\":\r\n              setUsernameExists(true);\r\n              break;\r\n            case \"InvalidPasswordException\":\r\n              setIsPasswordValid(false);\r\n              break;\r\n            default:\r\n              // MAKE GENERAL ERROR MESSAGE FOR IF THIS OCCURS !!!!!\r\n              console.log(\"an error occured\");\r\n              setErrorOccurred(true);\r\n          }\r\n        }\r\n        if (data) {\r\n          setHasSucceeded(true);\r\n        }\r\n      }\r\n    );\r\n  };\r\n\r\n  const areFieldsValid = () => {\r\n    let result: boolean = false;\r\n\r\n    if (username.length < 1) {\r\n      console.log(\"no handle!\");\r\n      setIsUsernameEmpty(true);\r\n      result = true;\r\n    } else if (username.length > 25) {\r\n      console.log(\"handle too long!\");\r\n      setIsUsernameTooLong(true);\r\n      result = true;\r\n    } else if (!checkIsHandleValid(username)) {\r\n      console.log(\"invalid handle\");\r\n      setIsUsernameValid(false);\r\n      result = true;\r\n    }\r\n\r\n    if (email.length < 1) {\r\n      console.log(\"no email!\");\r\n      setIsEmailEmpty(true);\r\n      result = true;\r\n    }\r\n\r\n    if (!checkIsPasswordValid(password)) {\r\n      console.log(\"invalid password\");\r\n      setIsPasswordValid(false);\r\n      result = true;\r\n    }\r\n\r\n    if (password !== confirmPassword) {\r\n      setPasswordsMismatch(true);\r\n      result = true;\r\n    }\r\n\r\n    return result;\r\n  };\r\n\r\n  const checkIsHandleValid = (s: string) => {\r\n    if (s.length < 1) return false;\r\n    return !/[^a-zA-Z0-9]/.test(s);\r\n  };\r\n\r\n  const checkIsPasswordValid = (s: string) => {\r\n    if (s.length < 8) return false;\r\n    return (\r\n      /[a-z]/.test(s) &&\r\n      /[A-Z]/.test(s) &&\r\n      /[0-9]/.test(s) &&\r\n      /[-=+^$*.[\\]{}()?\"!@#%&/\\\\,><':;|_~`]/.test(s)\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"register\">\r\n      <div className=\"register-title\">Register</div>\r\n\r\n      <form onSubmit={onSubmit}>\r\n        <div className=\"register-input-field\">\r\n          <div className=\"register-input-label \">Handle:</div>\r\n          <input\r\n            value={username}\r\n            onChange={(event) => {\r\n              setIsUsernameEmpty(false);\r\n              setIsUsernameTooLong(false);\r\n              setIsUsernameValid(true);\r\n              setUsernameExists(false);\r\n              setUsername(event.target.value);\r\n              setErrorOccurred(false);\r\n            }}\r\n            type=\"text\"\r\n            className={\r\n              isUsernameEmpty ||\r\n              !isUsernameValid ||\r\n              usernameExists ||\r\n              isUsernameTooLong\r\n                ? \"invalid\"\r\n                : \"\"\r\n            }\r\n          />\r\n\r\n          {/* Username field empty */}\r\n          {isUsernameEmpty ? (\r\n            <div className=\"form-error-message\">Handle field is empty</div>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n\r\n          {/* Username too long */}\r\n          {isUsernameTooLong ? (\r\n            <div className=\"form-error-message\">Handle is too long</div>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n\r\n          {/* Invalid username */}\r\n          {!isUsernameValid ? (\r\n            <div className=\"form-error-message\">\r\n              Invalid handle (no special characters allowed)\r\n            </div>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n\r\n          {/* Username already exists */}\r\n          {usernameExists ? (\r\n            <div className=\"form-error-message\">\r\n              An account with this handle already exists\r\n            </div>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"register-input-field\">\r\n          <div className=\"register-input-label\">Email:</div>\r\n          <input\r\n            value={email}\r\n            onChange={(event) => {\r\n              setIsEmailEmpty(false);\r\n              setEmailExists(false);\r\n              setIsEmailValid(true);\r\n              setEmail(event.target.value);\r\n              setErrorOccurred(false);\r\n            }}\r\n            type=\"email\"\r\n            className={isEmailEmpty || emailExists ? \"invalid\" : \"\"}\r\n          />\r\n\r\n          {/* Email field empty */}\r\n          {isEmailEmpty ? (\r\n            <div className=\"form-error-message\">Email field is empty</div>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n\r\n          {/* Email already exists */}\r\n          {emailExists ? (\r\n            <div className=\"form-error-message\">\r\n              An account with this email already exists\r\n            </div>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n\r\n          {/* Invalid email */}\r\n          {!isEmailValid ? (\r\n            <div className=\"form-error-message\">Invalid email</div>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"register-input-field\">\r\n          <div className=\"register-input-label\">Password:</div>\r\n          <input\r\n            value={password}\r\n            onChange={(event) => {\r\n              setPasswordsMismatch(false);\r\n              setIsPasswordValid(true);\r\n              setPassword(event.target.value);\r\n              setErrorOccurred(false);\r\n            }}\r\n            type=\"password\"\r\n            className={!isPasswordValid || passwordsMismatch ? \"invalid\" : \"\"}\r\n          />\r\n\r\n          {/* Invalid password */}\r\n          {!isPasswordValid ? (\r\n            <div className=\"form-error-message\">\r\n              Password must be at least 8 characters long, and contain at least\r\n              one uppercase, lowercase, number and special character.\r\n            </div>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n\r\n          <div className=\"register-input-field\">\r\n            <div className=\"register-input-label\">Confirm Password:</div>\r\n            <input\r\n              value={confirmPassword}\r\n              onChange={(event) => {\r\n                setPasswordsMismatch(false);\r\n                setConfirmPassword(event.target.value);\r\n                setErrorOccurred(false);\r\n              }}\r\n              type=\"password\"\r\n              className={!isPasswordValid || passwordsMismatch ? \"invalid\" : \"\"}\r\n            />\r\n          </div>\r\n\r\n          {/* Passwords don't match */}\r\n          {passwordsMismatch && isPasswordValid ? (\r\n            <div className=\"form-error-message\">! Passwords do not match !</div>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n        </div>\r\n\r\n        <button type=\"submit\">Submit</button>\r\n\r\n        {/* Success message */}\r\n        {hasSucceeded ? (\r\n          <div\r\n            style={{\r\n              fontSize: \"16px\",\r\n            }}\r\n            className=\"form-success-message\"\r\n          >\r\n            Success! Please verify your email before{\" \"}\r\n            <Link\r\n              style={{\r\n                color: \"#33c3f0\",\r\n              }}\r\n              to=\"/login\"\r\n            >\r\n              logging in\r\n            </Link>\r\n          </div>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n\r\n        {/* Error message */}\r\n        {errorOccurred ? (\r\n          <div className=\"form-error-message\">An error occurred.</div>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n\r\n        <div id=\"register-login-link\">\r\n          Already have an account? <Link to=\"/login\">Login here</Link>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n","import React, { useContext } from \"react\";\r\nimport { Redirect, Route } from \"react-router-dom\";\r\nimport { AccountContext } from \"./components/Account\";\r\nimport ContextProps from \"./Types/ContextProps\";\r\n\r\ninterface Props {\r\n  Component: any;\r\n  path: string;\r\n}\r\n\r\nconst PrivateRoute: React.FC<Props> = ({ Component, path }) => {\r\n  // isLoggedIn in props please!\r\n  const { isLoggedIn }: ContextProps = useContext(AccountContext);\r\n\r\n  return (\r\n    <Route\r\n      render={() =>\r\n        isLoggedIn === true ? (\r\n          <Component />\r\n        ) : (\r\n          <Redirect to={{ pathname: \"/login\" }} />\r\n        )\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nexport default PrivateRoute;\r\n","import React, { useState } from \"react\";\nimport {\n  HashRouter as Router,\n  Route,\n  Switch,\n  Redirect,\n} from \"react-router-dom\";\n\nimport Admin from \"./pages/Admin\";\nimport { Account } from \"./components/Account\";\nimport \"./App.css\";\n\n// Persistent\nimport LeftColumn from \"./components/Main/LeftColumn\";\nimport RightColumn from \"./components/Main/RightColumn\";\n\n// Pages\nimport PageNotFound from \"./pages/PageNotFound\";\nimport Timeline from \"./pages/Timeline\";\nimport AllPosts from \"./pages/AllPosts\";\nimport UserPage from \"./pages/UserPage\";\nimport BitPage from \"./pages/BitPage\";\nimport Settings from \"./pages/Settings\";\nimport Login from \"./pages/Login\";\nimport Register from \"./pages/Register\";\nimport PrivateRoute from \"./PrivateRoute\";\n\nconst App: React.FC<{}> = () => {\n  const [isLoggedIn, setIsLoggedIn] = useState<boolean>(false);\n  const [myHandle, setMyHandle] = useState<string>(\"\");\n\n  return (\n    <Account\n      isLoggedIn={isLoggedIn}\n      setIsLoggedIn={setIsLoggedIn}\n      myHandle={myHandle}\n      setMyHandle={setMyHandle}\n    >\n      <Router basename=\"/\">\n        <div className=\"App\">\n          <LeftColumn />\n\n          <div id=\"mid-col\" className=\"main-col\">\n            <Switch>\n              {/* Login page (redirect if logged in) */}\n              <Route\n                path=\"/login\"\n                render={() =>\n                  isLoggedIn === true ? (\n                    <Redirect to={{ pathname: \"/home\" }} />\n                  ) : (\n                    <Login setMyHandle={setMyHandle} />\n                  )\n                }\n              />\n\n              {/* Registration page (redirect if logged in) */}\n              <Route\n                path=\"/register\"\n                render={() =>\n                  isLoggedIn === true ? (\n                    <Redirect to={{ pathname: \"/home\" }} />\n                  ) : (\n                    <Register />\n                  )\n                }\n              />\n\n              {/* Home page and redirects */}\n              <Route path=\"/home\" exact render={() => <Timeline />} />\n              <Route\n                path=\"/\"\n                exact\n                render={() => <Redirect to={{ pathname: \"/home\" }} />}\n              />\n\n              {/* All posts (redirect if not logged in)*/}\n              <Route\n                path=\"/all\"\n                exact\n                render={() =>\n                  isLoggedIn === true ? (\n                    <AllPosts />\n                  ) : (\n                    <Redirect to={{ pathname: \"/home\" }} />\n                  )\n                }\n              />\n\n              {/* Admin page */}\n              <PrivateRoute path=\"/admin\" Component={Admin} />\n\n              {/* Settings page */}\n              <PrivateRoute path=\"/settings\" Component={Settings} />\n\n              {/* Current user page */}\n              <Route\n                path=\"/me\"\n                render={() =>\n                  isLoggedIn === true ? (\n                    <Redirect to={{ pathname: `/u/${myHandle}` }} />\n                  ) : (\n                    <Redirect to={{ pathname: \"/login\" }} />\n                  )\n                }\n              />\n\n              {/* General user page */}\n              <Route path=\"/u/:handle\" render={() => <UserPage />} />\n\n              {/* General bit page */}\n              <Route path=\"/b/:post_id\" render={() => <BitPage />} />\n\n              {/* 404 page */}\n              <Route component={PageNotFound} />\n            </Switch>\n          </div>\n\n          <RightColumn />\n        </div>\n      </Router>\n    </Account>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}